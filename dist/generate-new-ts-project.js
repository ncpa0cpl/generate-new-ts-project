#!/usr/bin/env bun
"use strict";var Jn=Object.create;var Oe=Object.defineProperty;var Hn=Object.getOwnPropertyDescriptor;var Un=Object.getOwnPropertyNames;var Vn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty;var Yn=(t,e,r)=>e in t?Oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var o=(t,e)=>Oe(t,"name",{value:e,configurable:!0});var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Xn=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Un(e))!Kn.call(t,i)&&i!==r&&Oe(t,i,{get:()=>e[i],enumerable:!(n=Hn(e,i))||n.enumerable});return t};var g=(t,e,r)=>(r=t!=null?Jn(Vn(t)):{},Xn(e||!t||!t.__esModule?Oe(r,"default",{value:t,enumerable:!0}):r,t));var j=(t,e,r)=>(Yn(t,typeof e!="symbol"?e+"":e,r),r);var Mt=h((Ts,St)=>{"use strict";St.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var tt=h((Ss,Pt)=>{var ae=Mt(),Et={};for(let t of Object.keys(ae))Et[ae[t]]=t;var u={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Pt.exports=u;for(let t of Object.keys(u)){if(!("channels"in u[t]))throw new Error("missing channels property: "+t);if(!("labels"in u[t]))throw new Error("missing channel labels property: "+t);if(u[t].labels.length!==u[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=u[t];delete u[t].channels,delete u[t].labels,Object.defineProperty(u[t],"channels",{value:e}),Object.defineProperty(u[t],"labels",{value:r})}u.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=s-i,c,l;s===i?c=0:e===s?c=(r-n)/a:r===s?c=2+(n-e)/a:n===s&&(c=4+(e-r)/a),c=Math.min(c*60,360),c<0&&(c+=360);let p=(i+s)/2;return s===i?l=0:p<=.5?l=a/(s+i):l=a/(2-s-i),[c,l*100,p*100]};u.rgb.hsv=function(t){let e,r,n,i,s,a=t[0]/255,c=t[1]/255,l=t[2]/255,p=Math.max(a,c,l),m=p-Math.min(a,c,l),y=o(function(B){return(p-B)/6/m+1/2},"diffc");return m===0?(i=0,s=0):(s=m/p,e=y(a),r=y(c),n=y(l),a===p?i=n-r:c===p?i=1/3+e-n:l===p&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,p*100]};u.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=u.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};u.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,a=(1-r-i)/(1-i)||0,c=(1-n-i)/(1-i)||0;return[s*100,a*100,c*100,i*100]};function Qn(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}o(Qn,"comparativeDistance");u.rgb.keyword=function(t){let e=Et[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(ae)){let s=ae[i],a=Qn(t,s);a<r&&(r=a,n=i)}return n};u.keyword.rgb=function(t){return ae[t]};u.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,a=e*.0193+r*.1192+n*.9505;return[i*100,s*100,a*100]};u.rgb.lab=function(t){let e=u.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,a=500*(r-n),c=200*(n-i);return[s,a,c]};u.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,a;if(r===0)return a=n*255,[a,a,a];n<.5?i=n*(1+r):i=n+r-n*r;let c=2*n-i,l=[0,0,0];for(let p=0;p<3;p++)s=e+1/3*-(p-1),s<0&&s++,s>1&&s--,6*s<1?a=c+(i-c)*6*s:2*s<1?a=i:3*s<2?a=c+(i-c)*(2/3-s)*6:a=c,l[p]=a*255;return l};u.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let a=(n+r)/2,c=n===0?2*i/(s+i):2*r/(n+r);return[e,c*100,a*100]};u.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),a=255*n*(1-r),c=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,l,a];case 1:return[c,n,a];case 2:return[a,n,l];case 3:return[a,c,n];case 4:return[l,a,n];case 5:return[n,a,c]}};u.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,a;a=(2-r)*n;let c=(2-r)*i;return s=r*i,s/=c<=1?c:2-c,s=s||0,a/=2,[e,s*100,a*100]};u.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let a=Math.floor(6*e),c=1-n;s=6*e-a,a&1&&(s=1-s);let l=r+s*(c-r),p,m,y;switch(a){default:case 6:case 0:p=c,m=l,y=r;break;case 1:p=l,m=c,y=r;break;case 2:p=r,m=c,y=l;break;case 3:p=r,m=l,y=c;break;case 4:p=l,m=r,y=c;break;case 5:p=c,m=r,y=l;break}return[p*255,m*255,y*255]};u.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,r*(1-i)+i),c=1-Math.min(1,n*(1-i)+i);return[s*255,a*255,c*255]};u.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,a;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,a=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[i*255,s*255,a*255]};u.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),a=200*(r-n);return[i,s,a]};u.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,a;s=(e+16)/116,i=r/500+s,a=s-n/200;let c=s**3,l=i**3,p=a**3;return s=c>.008856?c:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,a=p>.008856?p:(a-16/116)/7.787,i*=95.047,s*=100,a*=108.883,[i,s,a]};u.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(r*r+n*n);return[e,a,i]};u.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),a=r*Math.sin(i);return[e,s,a]};u.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?u.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(a+=60),a};u.hsv.ansi16=function(t){return u.rgb.ansi16(u.hsv.rgb(t),t[2])};u.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};u.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};u.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};u.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};u.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(c=>c+c).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,a=n&255;return[i,s,a]};u.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),a=i-s,c,l;return a<1?c=s/(1-a):c=0,a<=0?l=0:i===e?l=(r-n)/a%6:i===r?l=2+(n-e)/a:l=4+(e-r)/a,l/=6,l%=1,[l*360,a*100,c*100]};u.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};u.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};u.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,a=s%1,c=1-a,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};u.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};u.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};u.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};u.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};u.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};u.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};u.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};u.gray.hsl=function(t){return[0,0,t[0]]};u.gray.hsv=u.gray.hsl;u.gray.hwb=function(t){return[0,100,t[0]]};u.gray.cmyk=function(t){return[0,0,0,t[0]]};u.gray.lab=function(t){return[t[0],0,0]};u.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};u.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var At=h((Es,Ft)=>{var Te=tt();function Zn(){let t={},e=Object.keys(Te);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}o(Zn,"buildGraph");function ei(t){let e=Zn(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(Te[n]);for(let s=i.length,a=0;a<s;a++){let c=i[a],l=e[c];l.distance===-1&&(l.distance=e[n].distance+1,l.parent=n,r.unshift(c))}}return e}o(ei,"deriveBFS");function ti(t,e){return function(r){return e(t(r))}}o(ti,"link");function ri(t,e){let r=[e[t].parent,t],n=Te[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=ti(Te[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}o(ri,"wrapConversion");Ft.exports=function(t){let e=ei(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let a=n[s];e[a].parent!==null&&(r[a]=ri(a,e))}return r}});var Rt=h((Fs,jt)=>{var rt=tt(),ni=At(),H={},ii=Object.keys(rt);function si(t){let e=o(function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}o(si,"wrapRaw");function oi(t){let e=o(function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,a=0;a<s;a++)i[a]=Math.round(i[a]);return i},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}o(oi,"wrapRounded");ii.forEach(t=>{H[t]={},Object.defineProperty(H[t],"channels",{value:rt[t].channels}),Object.defineProperty(H[t],"labels",{value:rt[t].labels});let e=ni(t);Object.keys(e).forEach(n=>{let i=e[n];H[t][n]=oi(i),H[t][n].raw=si(i)})});jt.exports=H});var qt=h((js,Bt)=>{"use strict";var Dt=o((t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,"wrapAnsi16"),Lt=o((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},"wrapAnsi256"),Gt=o((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},"wrapAnsi16m"),Se=o(t=>t,"ansi2ansi"),$t=o((t,e,r)=>[t,e,r],"rgb2rgb"),U=o((t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},"setLazyProperty"),nt,V=o((t,e,r,n)=>{nt===void 0&&(nt=Rt());let i=n?10:0,s={};for(let[a,c]of Object.entries(nt)){let l=a==="ansi16"?"ansi":a;a===e?s[l]=t(r,i):typeof c=="object"&&(s[l]=t(c[e],i))}return s},"makeDynamicStyles");function ai(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,s]of Object.entries(n))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",U(e.color,"ansi",()=>V(Dt,"ansi16",Se,!1)),U(e.color,"ansi256",()=>V(Lt,"ansi256",Se,!1)),U(e.color,"ansi16m",()=>V(Gt,"rgb",$t,!1)),U(e.bgColor,"ansi",()=>V(Dt,"ansi16",Se,!0)),U(e.bgColor,"ansi256",()=>V(Lt,"ansi256",Se,!0)),U(e.bgColor,"ansi16m",()=>V(Gt,"rgb",$t,!0)),e}o(ai,"assembleStyles");Object.defineProperty(Bt,"exports",{enumerable:!0,get:ai})});var zt=h((Ds,Wt)=>{"use strict";Wt.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Ut=h((Ls,Ht)=>{"use strict";var ci=require("os"),Jt=require("tty"),S=zt(),{env:w}=process,D;S("no-color")||S("no-colors")||S("color=false")||S("color=never")?D=0:(S("color")||S("colors")||S("color=true")||S("color=always"))&&(D=1);"FORCE_COLOR"in w&&(w.FORCE_COLOR==="true"?D=1:w.FORCE_COLOR==="false"?D=0:D=w.FORCE_COLOR.length===0?1:Math.min(parseInt(w.FORCE_COLOR,10),3));function it(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}o(it,"translateLevel");function st(t,e){if(D===0)return 0;if(S("color=16m")||S("color=full")||S("color=truecolor"))return 3;if(S("color=256"))return 2;if(t&&!e&&D===void 0)return 0;let r=D||0;if(w.TERM==="dumb")return r;if(process.platform==="win32"){let n=ci.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in w)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in w)||w.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in w)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(w.TEAMCITY_VERSION)?1:0;if(w.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in w){let n=parseInt((w.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(w.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(w.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(w.TERM)||"COLORTERM"in w?1:r}o(st,"supportsColor");function li(t){let e=st(t,t&&t.isTTY);return it(e)}o(li,"getSupportLevel");Ht.exports={supportsColor:li,stdout:it(st(!0,Jt.isatty(1))),stderr:it(st(!0,Jt.isatty(2)))}});var Kt=h(($s,Vt)=>{"use strict";var ui=o((t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,a="";do a+=t.substr(s,n-s)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return a+=t.substr(s),a},"stringReplaceAll"),pi=o((t,e,r,n)=>{let i=0,s="";do{let a=t[n-1]==="\r";s+=t.substr(i,(a?n-1:n)-i)+e+(a?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.substr(i),s},"stringEncaseCRLFWithFirstIndex");Vt.exports={stringReplaceAll:ui,stringEncaseCRLFWithFirstIndex:pi}});var er=h((qs,Zt)=>{"use strict";var di=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Yt=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,fi=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,mi=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,gi=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Qt(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):gi.get(t)||t}o(Qt,"unescape");function hi(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n){let a=Number(s);if(!Number.isNaN(a))r.push(a);else if(i=s.match(fi))r.push(i[2].replace(mi,(c,l,p)=>l?Qt(l):p));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`)}return r}o(hi,"parseArguments");function yi(t){Yt.lastIndex=0;let e=[],r;for(;(r=Yt.exec(t))!==null;){let n=r[1];if(r[2]){let i=hi(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}o(yi,"parseStyle");function Xt(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let[i,s]of Object.entries(r))if(Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}o(Xt,"buildStyle");Zt.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(di,(s,a,c,l,p,m)=>{if(a)i.push(Qt(a));else if(l){let y=i.join("");i=[],n.push(r.length===0?y:Xt(t,r)(y)),r.push({inverse:c,styles:yi(l)})}else if(p){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Xt(t,r)(i.join(""))),i=[],r.pop()}else i.push(m)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var je=h((zs,or)=>{"use strict";var ce=qt(),{stdout:at,stderr:ct}=Ut(),{stringReplaceAll:bi,stringEncaseCRLFWithFirstIndex:wi}=Kt(),{isArray:Ee}=Array,rr=["ansi","ansi","ansi256","ansi16m"],K=Object.create(null),Ci=o((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=at?at.level:0;t.level=e.level===void 0?r:e.level},"applyOptions"),Me=class{constructor(e){return nr(e)}};o(Me,"ChalkClass");var nr=o(t=>{let e={};return Ci(e,t),e.template=(...r)=>sr(e.template,...r),Object.setPrototypeOf(e,Pe.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=Me,e.template},"chalkFactory");function Pe(t){return nr(t)}o(Pe,"Chalk");for(let[t,e]of Object.entries(ce))K[t]={get(){let r=Fe(this,lt(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};K.visible={get(){let t=Fe(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var ir=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of ir)K[t]={get(){let{level:e}=this;return function(...r){let n=lt(ce.color[rr[e]][t](...r),ce.color.close,this._styler);return Fe(this,n,this._isEmpty)}}};for(let t of ir){let e="bg"+t[0].toUpperCase()+t.slice(1);K[e]={get(){let{level:r}=this;return function(...n){let i=lt(ce.bgColor[rr[r]][t](...n),ce.bgColor.close,this._styler);return Fe(this,i,this._isEmpty)}}}}var vi=Object.defineProperties(()=>{},{...K,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),lt=o((t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},"createStyler"),Fe=o((t,e,r)=>{let n=o((...i)=>Ee(i[0])&&Ee(i[0].raw)?tr(n,sr(n,...i)):tr(n,i.length===1?""+i[0]:i.join(" ")),"builder");return Object.setPrototypeOf(n,vi),n._generator=t,n._styler=e,n._isEmpty=r,n},"createBuilder"),tr=o((t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=bi(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=wi(e,i,n,s)),n+e+i},"applyStyle"),ot,sr=o((t,...e)=>{let[r]=e;if(!Ee(r)||!Ee(r.raw))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return ot===void 0&&(ot=er()),ot(t,i.join(""))},"chalkTag");Object.defineProperties(Pe.prototype,K);var Ae=Pe();Ae.supportsColor=at;Ae.stderr=Pe({level:ct?ct.level:0});Ae.stderr.supportsColor=ct;or.exports=Ae});var ut=h(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.isNumerical=void 0;var _i=o(t=>/^[0-9]+$/.test(t),"isNumerical");Re.isNumerical=_i});var cr=h(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.splitByAlphanumericTransitions=void 0;var ar=ut();function ki(t){let e=[],r=o(()=>e[e.length-1],"lastChar"),n=o(s=>e[e.length-1]+=s,"addChar"),i=o(s=>e.push(s),"addNextWord");for(let s of t.split("")){let a=r();if(a===void 0){i(s);continue}if((0,ar.isNumerical)(s)===(0,ar.isNumerical)(a)){n(s);continue}i(s)}return e}o(ki,"splitByAlphanumericTransitions");De.splitByAlphanumericTransitions=ki});var fr=h(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.compareStrings=void 0;var lr=ut(),ur=cr();function le(t,e){if(t===e)return 0;let r=t.length>e.length?e:t;for(let n of Array.from({length:r.length},(i,s)=>s)){let i=t.charCodeAt(n),s=e.charCodeAt(n);if(i<s)return-1;if(i>s)return 1}return t.length>e.length?1:-1}o(le,"compare");function pr(t,e){if(t===e)return 0;let r=(0,ur.splitByAlphanumericTransitions)(t),n=(0,ur.splitByAlphanumericTransitions)(e),i=r.length>n.length?n:r;for(let s of Array.from({length:i.length},(a,c)=>c)){let a=r[s],c=n[s],l=(0,lr.isNumerical)(a),p=(0,lr.isNumerical)(c);if(l&&!p)return-1;if(!l&&p)return 1;if(l&&p){let m=Number(a),y=Number(c);if(m<y)return-1;if(m>y)return 1}if(!l&&!p){let m=le(a,c);if(m!==0)return m}}return 0}o(pr,"compareWithNumbers");function xi(t,e){var r,n;if(typeof t=="string"&&typeof e=="string")return le(t,e);if(typeof t=="object"&&t!==null){let i=(r=t.numCompare)!==null&&r!==void 0?r:!1,s=(n=t.reverse)!==null&&n!==void 0?n:!1;return i?(a,c)=>s?dr[pr(a,c)]:pr(a,c):(a,c)=>s?dr[le(a,c)]:le(a,c)}return le}o(xi,"compareStrings");Le.compareStrings=xi;var dr={"-1":1,0:0,1:-1}});var mr=h(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.isArgName=void 0;function Ni(t){return t[0]==="-"}o(Ni,"isArgName");Ge.isArgName=Ni});var gr=h($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.parseArgumentValue=void 0;function Ii(t){return t==="true"?!0:t==="false"?!1:t}o(Ii,"parseArgumentValue");$e.parseArgumentValue=Ii});var pt=h(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.Arguments=void 0;var hr=mr(),Oi=gr(),Be=class{constructor(){this.subCommands=[],this.arguments=new Map;let e=process.argv.slice(2);this.init(e)}init(e){for(;e.length!==0;){let r=e.shift();if((0,hr.isArgName)(r))if(e[0]&&!(0,hr.isArgName)(e[0])){let n=e.shift();this.arguments.set(r,(0,Oi.parseArgumentValue)(n))}else this.arguments.set(r,!0);else this.subCommands.push(r)}Object.freeze(this.arguments),Object.freeze(this.subCommands)}isArgumentSet(e){return this.arguments.has(e.keyword)||this.arguments.has(e.flagChar)}getArgument(e){if(this.arguments.has(e.keyword))return this.arguments.get(e.keyword);if(this.arguments.has(e.flagChar))return this.arguments.get(e.flagChar);if(e.default!==void 0)return e.default}getSubCommandsPath(){return[...this.subCommands]}};o(Be,"ArgumentParser");qe.Arguments=new Be});var dt=h(Y=>{"use strict";var Ti=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y,"__esModule",{value:!0});Y.Argument=void 0;var We=Ti(je()),Si=fr(),yr=pt(),Mi=/^[+-]?([0-9]*[.])?[0-9]+$/,C=class{constructor(){C.isCommandInitializing()||this.throwInternalError("Arguments must be initialized within the Command init callback."),this.context=this.init(),this._value=this.getArgumentValue(),this._isSet=yr.Arguments.isArgumentSet(this.context)}static hasMultipleArgumentsWithKeywordOrFlag(e,r){return C.initiatedArguments.filter(n=>n.context.keyword===e||n.context.flagChar===r).length>1}static startCommandInitialization(){C._isCommandInitializing=!0}static endCommandInitialization(){C._isCommandInitializing=!1}static isCommandInitializing(){return C._isCommandInitializing}static getArgumentsInfo(){return C.initiatedArguments.sort((e,r)=>(0,Si.compareStrings)({numCompare:!0})(e.context.flagChar,r.context.flagChar)).map(e=>{var r;return{flagChar:e.context.flagChar,keyword:e.context.keyword,description:(r=e.context.description)!==null&&r!==void 0?r:"",category:e.context.category}})}static validateArguments(){for(let e of C.initiatedArguments)e.validate()}static define(e){class r extends C{constructor(){super(),C.initiatedArguments.push(this)}init(){return e}}return o(r,"Arg"),r}ensureDataType(e){if(!this.context.require&&e===void 0)return e;switch(this.context.dataType){case"boolean":if(typeof e=="boolean")return e;if(e==="0"||e===0)return!1;if(e==="1"||e===1)return!0;this.throwArgumentError('Argument value is not of expected type (boolean). Try one of the following: "true", "false", 0 or 1');break;case"number":if(typeof e=="number")return e;if(typeof e=="string"&&Mi.test(e))return Number(e);this.throwArgumentError("Argument value is not of expected type (number). Try putting in a number value to this argument like: 0, 1, 123, 1.2 or .678");break;case"string":if(typeof e=="string")return e;this.throwArgumentError("Argument value is not of expected type (string).");break;default:return e}}validate(){let e=/^--[a-zA-Z]+(-[a-zA-Z]+)*$/,r=/^-[a-zA-Z]+$/;e.test(this.context.keyword)||this.throwInternalError(`Incorrect Argument definition: invalid keyword (${this.context.keyword})`),r.test(this.context.flagChar)||this.throwInternalError(`Incorrect Argument definition: invalid flag character (${this.context.flagChar})`),C.hasMultipleArgumentsWithKeywordOrFlag(this.context.keyword,this.context.flagChar)&&this.throwInternalError("Duplicate argument instances declared within a Command."),this.context.require&&this.value===void 0&&this.throwArgumentError("Argument must be specified."),this._value=this.ensureDataType(this.value)}getName(){return this.context.displayName||this.context.keyword}getArgumentValue(){return yr.Arguments.getArgument(this.context)}throwArgumentError(e){let r=this.getName();throw new Error(`${We.default.red("Argument Error")} [${We.default.yellow(r)}]: ${e}`)}throwInternalError(e){let r=this.getName();throw new Error(`${We.default.red("Argument Error")} [${We.default.yellow(r)}]: ${e}`)}get value(){return this._value}get isSet(){return this._isSet}setDefault(e){this.context.default=e,this._value=this.getArgumentValue()}};o(C,"Argument");Y.Argument=C;C._isCommandInitializing=!1;C.initiatedArguments=[]});var br=h(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.groupByCategory=void 0;function Ei(t){var e;let r=[],n=new Set([""]);for(let i of t)n.add((e=i.category)!==null&&e!==void 0?e:"");for(let i of n)r.push([i,t.filter(s=>{var a;return i===((a=s.category)!==null&&a!==void 0?a:"")})]);return r}o(Ei,"groupByCategory");ze.groupByCategory=Ei});var wr=h(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.padLeft=void 0;function Pi(t,e){var r;e.paddingLength!==void 0&&(e.paddingLength=Math.max(0,e.paddingLength)),e.targetWidth!==void 0&&(e.targetWidth=Math.max(0,e.targetWidth));let n=(r=e.paddingLength)!==null&&r!==void 0?r:0;if(e.targetWidth!==void 0){if(e.targetWidth<=t.length)return t.slice(0,e.targetWidth);n=e.targetWidth-t.length}return`${Array.from({length:n},()=>" ").join("")}${t}`}o(Pi,"padLeft");Je.padLeft=Pi});var Cr=h(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.padRight=void 0;function Fi(t,e){var r;e.paddingLength!==void 0&&(e.paddingLength=Math.max(0,e.paddingLength)),e.targetWidth!==void 0&&(e.targetWidth=Math.max(0,e.targetWidth));let n=(r=e.paddingLength)!==null&&r!==void 0?r:0;if(e.targetWidth!==void 0){if(e.targetWidth<=t.length)return t.slice(0,e.targetWidth);n=e.targetWidth-t.length}return`${t}${Array.from({length:n},()=>" ").join("")}`}o(Fi,"padRight");He.padRight=Fi});var vr=h(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.splitToNLengthChunks=void 0;function Ai(t,e){let r=t.split(""),n=[];for(;;){let i=r.splice(0,e);if(i.length===0)break;n.push(i.join(""))}return n}o(Ai,"splitToNLengthChunks");Ue.splitToNLengthChunks=Ai});var _r=h(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.stringListLength=void 0;function ji(t){return t.reduce((e,r)=>e+r.length,0)}o(ji,"stringListLength");Ve.stringListLength=ji});var xr=h(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.printLists=X.removeColumnsNotFittingTheScreen=void 0;var kr=wr(),Ri=Cr(),Di=vr(),ft=_r();function mt(t,e){t=[...t];let r=t.slice(0,-1);return(0,ft.stringListLength)(r)>=e?mt(r,e):t}o(mt,"removeColumnsNotFittingTheScreen");X.removeColumnsNotFittingTheScreen=mt;function Li(t,e=!1){let r=e?2:0,n=t.reduce((a,c)=>Math.max(a,c.length),0),i=Array.from({length:n}).map((a,c)=>t.reduce((p,m)=>m[c]?Math.max(p,m[c].length):p,0)+2),s=process.stdout.columns;for(let a of t){let c=a.map((p,m,y)=>{let B=i[m],oe=(0,kr.padLeft)(p,{paddingLength:r});return m===y.length-1?oe:(0,Ri.padRight)(oe,{targetWidth:B})}),l=mt(c,s);if(l.length===0)return;if((0,ft.stringListLength)(l)>s){let p=l.splice(-1)[0],m=(0,ft.stringListLength)(l)+r,y=s-m,[B,...oe]=(0,Di.splitToNLengthChunks)(p,y);l.push(B),console.log(l.join(""));for(let q of oe){let zn=(0,kr.padLeft)(q,{paddingLength:m});console.log(zn)}}else console.log(l.join(""))}}o(Li,"printLists");X.printLists=Li});var gt=h(Q=>{"use strict";var Gi=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q,"__esModule",{value:!0});Q.Command=void 0;var $i=Gi(je()),pe=dt(),Bi=br(),ue=xr(),qi=pe.Argument.define({flagChar:"-h",keyword:"--help",dataType:"boolean",displayName:"help",description:"Show this help message."}),F=class{constructor(){this.childCommands=[],this.implementation=void 0,this.initialize=void 0,this.description="",this.shortDescription="",this.name=""}static initHelpArg(){F.helpArgument||(F.helpArgument=new qi)}setImplementation(e){this.implementation=e}runInitialize(){pe.Argument.startCommandInitialization();try{if(F.initHelpArg(),this.initialize&&!this.implementation){let e=this.initialize();this.setImplementation(e),e.commandDescription&&(this.description=e.commandDescription),e.shortDescription&&(this.shortDescription=e.shortDescription),e.displayName&&(this.name=e.displayName)}}finally{pe.Argument.endCommandInitialization()}}define(e){this.initialize=e}execute(){var e;if(this.runInitialize(),!((e=F.helpArgument)===null||e===void 0)&&e.isSet&&F.helpArgument.value===!0)return this.printHelpMessage();if(pe.Argument.validateArguments(),this.implementation)return this.implementation.run()}addChildCommand(e){if(this.findChildCommand(e.keyword))throw new Error(`${$i.default.red("Internal Error:")} There cannot be multiple commands with the same keyword.`);this.childCommands.push(e)}findChildCommand(e){return this.childCommands.find(r=>r.keyword===e)}getName(){return this.name}printHelpMessage(){let e=(0,Bi.groupByCategory)(pe.Argument.getArgumentsInfo()),r=this.getName();this.description?(0,ue.printLists)([[`${r}:`,this.description]]):this.shortDescription?(0,ue.printLists)([[`${r}:`,this.shortDescription]]):(0,ue.printLists)([[`${r}:`]]),this.childCommands.length>0&&(console.log(`
Commands:`),(0,ue.printLists)(this.childCommands.map(n=>n.getPrintableList()),!0)),console.log(`
Arguments:`);for(let[n,i]of e)n.length>0&&console.log(`
${n}:`),(0,ue.printLists)(i.map(s=>[s.flagChar,s.keyword,s.description]),!0)}setDescription(e){this.description=e}setDisplayName(e){this.name=e}};o(F,"Command");Q.Command=F});var ht=h(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.defaultInitializer=void 0;function Wi(){let t=this;return{run(){t.printHelpMessage()}}}o(Wi,"defaultInitializer");Ke.defaultInitializer=Wi});var Nr=h(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.SubCommand=void 0;var zi=gt(),Ji=ht(),Z=class extends zi.Command{constructor(e,r){super(),this.define(r),this.keyword=e}getPrintableList(){return this.runInitialize(),[this.keyword,this.shortDescription]}getName(){return this.name||this.keyword}addSubCommand(e,r=Ji.defaultInitializer){let n=new Z(e,r);return this.addChildCommand(n),n}};o(Z,"SubCommand");Ye.SubCommand=Z});var Or=h(te=>{"use strict";var Hi=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(te,"__esModule",{value:!0});te.MainCommand=void 0;var Ui=Hi(require("path")),Vi=pt(),Ki=gt(),Ir=ht(),Yi=Nr(),ee=class extends Ki.Command{static init(){return new ee}constructor(){super();let e=process.argv[1];this.name=Ui.default.parse(e).name,this.define(Ir.defaultInitializer)}start(){let e=Vi.Arguments.getSubCommandsPath();if(e.length===0)return this.execute();let r=this;for(;!(e.length===0||!r);){let n=e.shift();r=r.findChildCommand(n)}if(r)return r.execute()}setMainAction(e){this.define(e)}addSubCommand(e,r=Ir.defaultInitializer){let n=new Yi.SubCommand(e,r);return this.addChildCommand(n),n}};o(ee,"MainCommand");te.MainCommand=ee});var bt=h(E=>{"use strict";var Xi=E&&E.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(E,"__esModule",{value:!0});E.MainCommand=E.Argument=E.configure=void 0;var Qi=Xi(je()),Sr=dt();Object.defineProperty(E,"Argument",{enumerable:!0,get:function(){return Sr.Argument}});var yt=Or();Object.defineProperty(E,"MainCommand",{enumerable:!0,get:function(){return yt.MainCommand}});var Tr=yt.MainCommand.init();function Mr(t){try{t(Tr),Tr.start()}catch(e){console.error(Qi.default.redBright("An error occurred when running this script.")),e instanceof Error&&console.error(e.message)}}o(Mr,"configure");E.configure=Mr;E.default={configure:Mr,Argument:Sr.Argument,MainCommand:yt.MainCommand}});var Wn=g(bt());var ie=g(bt());var wn=g(require("path"));var f=class{constructor(e,r,n="."){this.getContent=e;this.filename=r;this.location=n}getAsString(e){let r=this.getContent(e);return typeof r=="string"?r:JSON.stringify(r,null,2)}};o(f,"ConfigFile");var d=class{constructor(e,r={}){this.name=e;this.options=r;var n,i;(n=this.options).register??(n.register="npm"),(i=this.options).version??(i.version="latest")}static setPackageManagerType(e,r=""){this.pmType=e,this.pmVersion=r}getNameForNpmRegister(){return!this.options.version||this.options.version==="latest"?this.name:`${this.name}@${this.options.version}`}getNameForGithubRegister(){let e;return d.pmType==="yarn"&&d.pmVersion.startsWith("3")?e=`${this.name}@${this.options.user}/${this.name}`:e=`git+https://github.com/${this.options.user}/${this.name}`,this.options.version&&this.options.version!=="latest"&&(e+=`#${this.options.version}`),e}getFriendlyName(){return this.options.version==="latest"?this.name:`${this.name} v${this.options.version}`}getInstallName(){return this.options.register==="github"?this.getNameForGithubRegister():this.getNameForNpmRegister()}};o(d,"Dependency");var I=o(t=>typeof t=="object"&&t!==null,"isRecord");var Er={lineWidth:80,typescript:{},json:{},markdown:{},excludes:["**/node_modules","**/*-lock.json","**/dist"],plugins:["https://plugins.dprint.dev/typescript-0.88.7.wasm","https://plugins.dprint.dev/json-0.19.1.wasm","https://plugins.dprint.dev/markdown-0.16.3.wasm"]};var de=class{getName(){return"dprint"}getDevDependencies(){return[new d("dprint")]}getConfigFiles(){return[new f(()=>Er,"dprint.json")]}packageJsonMiddleware(e){return e.addScript("fix:fmt","dprint fmt"),e.addScript("test:fmt","dprint check"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&I(r)&&r.hooks["pre-push"].push({name:"Check Formatting",script:"test:fmt"})}};o(de,"DprintModule");var Fr=g(require("fs/promises")),Ar=g(require("path"));var A=o((...t)=>{let e=t[0],r="",n=0,i=0;for(r=e[0],n=1,i=t.length;n<i;n++)r+=String(t[n])+e[n];return r.trim()+`
`},"js");var Pr=A`
import esbuild from "esbuild";
import path from "node:path";
import { fileURLToPath } from "url";

const __dirname = path.dirname(fileURLToPath(import.meta.url));
const p = (...fpath) => path.resolve(__dirname, "..", ...fpath);

const isDev = process.argv.includes("--dev");
const watch = process.argv.includes("--watch");

async function main() {
  /** 
   * @type {import("esbuild").BuildOptions} 
   */
  const bldOptions = {
    tsconfig: p("tsconfig.json"),
    entryPoints: [p("src/index.ts")],
    outdir: p("dist"),
    bundle: true,
    keepNames: true,
    treeShaking: !isDev,
    minify: !isDev,
  }

  if (watch) {
    const buildCtx = await esbuild.context(bldOptions);
    await buildCtx.watch();
  } else {
    await esbuild.build(bldOptions);
  }
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});
`;var fe=class{getName(){return"esbuild"}async beforeStart(e){let r=Ar.default.resolve(e.projectDir,"scripts");await Fr.default.mkdir(r)}getDevDependencies(){return[new d("esbuild")]}getConfigFiles(){return[new f(()=>Pr,"build.mjs","scripts")]}packageJsonMiddleware(e){return e.addScript("build","node ./scripts/build.mjs"),e}};o(fe,"EsbuildModule");var jr=["/__mocks__","/__tests__","/.vscode","/coverage","/dist","/node_modules","/tests","/.eslintignore","/.eslintrc.json","/.gitignore","/.prettierrc.json","/jest.config.js","/package-lock.json","/tsconfig.json","/webpack.config.js","/yarn-error.log","/yarn.lock","/*.js","/*.mjs","/*.cjs","/scripts"].join(`
`);var Rr={plugins:["@typescript-eslint"],env:{browser:!0,es2021:!0},extends:["prettier","eslint:recommended","plugin:@typescript-eslint/eslint-recommended","plugin:@typescript-eslint/recommended"],parser:"@typescript-eslint/parser",parserOptions:{project:"./tsconfig.json",sourceType:"module"},rules:{"max-len":["error",70,4,{ignoreUrls:!0,ignoreStrings:!0,ignoreRegExpLiterals:!0,ignoreTemplateLiterals:!0}],"linebreak-style":["error","unix"],quotes:["error","double",{avoidEscape:!0}],semi:["error","always"],"@typescript-eslint/consistent-type-imports":"error","@typescript-eslint/consistent-type-exports":"error","@typescript-eslint/member-delimiter-style":"error","@typescript-eslint/no-confusing-non-null-assertion":"error","@typescript-eslint/no-misused-new":"error","@typescript-eslint/no-require-imports":"error","@typescript-eslint/restrict-plus-operands":"error","@typescript-eslint/switch-exhaustiveness-check":"error","@typescript-eslint/no-base-to-string":"error","@typescript-eslint/prefer-nullish-coalescing":"warn","@typescript-eslint/require-array-sort-compare":"warn","@typescript-eslint/no-empty-interface":"off","@typescript-eslint/prefer-for-of":"off","@typescript-eslint/no-this-alias":"off","@typescript-eslint/no-non-null-assertion":"off","@typescript-eslint/no-explicit-any":"off","@typescript-eslint/unbound-method":"off","@typescript-eslint/explicit-module-boundary-types":"off","no-async-promise-executor":"off","@typescript-eslint/no-floating-promises":"off","@typescript-eslint/no-empty-function":"off","@typescript-eslint/no-namespace":"off","@typescript-eslint/ban-ts-comment":"off","no-constant-condition":"off","no-prototype-builtins":"off","no-control-regex":"off","@typescript-eslint/ban-types":["error",{types:{object:!1,Function:!1,"{}":!1},extendDefaults:!0}]}};var me=class{getName(){return"eslint"}getDevDependencies(){return[new d("@typescript-eslint/eslint-plugin"),new d("@typescript-eslint/parser"),new d("eslint-config-prettier"),new d("eslint-plugin-prettier"),new d("eslint")]}getConfigFiles(){return[new f(()=>Rr,".eslintrc.json"),new f(()=>jr,".eslintignore")]}packageJsonMiddleware(e){return e.addScript("fix:lint","eslint --fix ./src/**/*.ts"),e.addScript("test:lint","eslint ./src/**/*.ts"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&I(r)&&r.hooks["pre-push"].push({name:"Lint",script:"test:lint"})}};o(me,"EslintModule");var Lr=g(require("fs/promises")),Gr=g(require("path"));var Dr=A`
/** @type {import("@reactgjs/gest/config").ConfigGetter} */
const getConfig = () => {
    return {
        testDir: "./__tests__",
        srcDir: "./src",
    };
};

export default getConfig;
`;var re={extends:"../tsconfig.json",include:["../**/*"],compilerOptions:{rootDir:"..",noEmit:!0}};var ge=class{getName(){return"gest"}async beforeStart(e){let r=Gr.default.resolve(e.projectDir,"__tests__");await Lr.default.mkdir(r)}getDevDependencies(){return[new d("@reactgjs/gest")]}getConfigFiles(){return[new f(()=>Dr,"gest.config.mjs"),new f(()=>re,"tsconfig.json","__tests__")]}packageJsonMiddleware(e){return e.addScript("test:unit","gest"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&I(r)&&r.hooks["pre-push"].push({name:"Unit Tests",script:"test:unit"})}};o(ge,"GestModule");var qr=g(require("fs/promises")),Wr=g(require("path"));var $r=A`
const fs = require("fs");
const path = require("path");

const swcConfig = JSON.parse(
  fs.readFileSync(path.resolve(__dirname, ".swcrc"), "utf-8")
);

/** @type {import("jest").Config} */
const config = {
  testRegex: ".*__tests__/.+(\\.test\\.(ts|js|tsx|jsx))$",
  transform: {
    "^.+\\.(js|jsx|ts|tsx)$": ["@swc/jest", swcConfig],
  },
  roots: ["<rootDir>"],
  collectCoverageFrom: ["src/**/*.(ts|js|tsx|jsx)"],
  coverageReporters: ["html", "text"],
  coverageThreshold: {
    global: {
      branches: 0,
      functions: 0,
      lines: 0,
      statements: 0,
    },
  },
  coveragePathIgnorePatterns: [
    "/node_modules/",
    "/coverage/",
    "/__mocks__/",
    "/__tests__/",
    "/dist/",
    "/.husky/",
    "/.vscode/",
  ],
};

module.exports = config;
`.trim()+`
`;var Br={jsc:{keepClassNames:!0,parser:{syntax:"typescript",tsx:!0,decorators:!0,dynamicImport:!1},target:"es2022",baseUrl:"."},module:{type:"es6",strict:!0}};var he=class{getName(){return"jest"}async beforeStart(e){let r=Wr.default.resolve(e.projectDir,"__tests__");await qr.default.mkdir(r)}getDevDependencies(){return[new d("@swc/core"),new d("@swc/jest"),new d("@types/jest"),new d("jest")]}getConfigFiles(){return[new f(()=>$r,"jest.config.js"),new f(()=>Br,".swcrc"),new f(()=>re,"tsconfig.json","__tests__")]}packageJsonMiddleware(e){return e.addScript("test:unit","jest --coverage"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&I(r)&&r.hooks["pre-push"].push({name:"Unit Tests",script:"test:unit"})}};o(he,"JestModule");var ln=g(require("fs/promises")),It=g(require("path"));var Zi=Object.defineProperty,es=o((t,e,r)=>e in t?Zi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),ts=o((t,e,r)=>(es(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),ye=o(class{static parseRgbArgs(t){if(t.length===1){let e=t[0];if(typeof e=="string"){if(e.startsWith("rgb(")){let r=e.slice(4,-1).split(",");return{r:Number(r[0]),g:Number(r[1]),b:Number(r[2])}}else if(e.startsWith("#")){let r=e.slice(1).split("");return{r:parseInt(r[0]+r[1],16),g:parseInt(r[2]+r[3],16),b:parseInt(r[4]+r[5],16)}}}else if(typeof e=="object")return e}else if(t.length===3)return{r:t[0],g:t[1],b:t[2]};throw new Error("Invalid rgb arguments")}static get(t){return t in this.predefinedColors?this.predefinedColors[t]:this.rgb(t)}static define(t,...e){if(t in this.predefinedColors)throw new Error(`Color ${t} is already defined.`);Object.assign(this.predefinedColors,{[t]:this.rgb(...e)})}static rgb(...t){return""}},"TermxColors");ts(ye,"predefinedColors",{});var rs=Object.defineProperty,ns=o((t,e,r)=>e in t?rs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),is=o((t,e,r)=>(ns(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),_="\x1B",Xe=o(class extends ye{static rgb(...t){let e=this.parseRgbArgs(t);return`${_}[48;2;${e.r};${e.g};${e.b}m`}},"TermxBgColor");is(Xe,"predefinedColors",{unset:`${_}[0m`,red:`${_}[41m`,green:`${_}[42m`,yellow:`${_}[43m`,blue:`${_}[44m`,magenta:`${_}[45m`,cyan:`${_}[46m`,white:`${_}[47m`,lightRed:`${_}[101m`,lightGreen:`${_}[102m`,lightYellow:`${_}[103m`,lightBlue:`${_}[104m`,lightMagenta:`${_}[105m`,lightCyan:`${_}[106m`,lightWhite:`${_}[107m`});var ss=Object.defineProperty,os=o((t,e,r)=>e in t?ss(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),as=o((t,e,r)=>(os(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),k="\x1B",O=o(class extends ye{static rgb(...t){let e=this.parseRgbArgs(t);return`${k}[38;2;${e.r};${e.g};${e.b}m`}},"TermxFontColor");as(O,"predefinedColors",{unset:`${k}[0m`,red:`${k}[31m`,green:`${k}[32m`,yellow:`${k}[33m`,blue:`${k}[34m`,magenta:`${k}[35m`,cyan:`${k}[36m`,white:`${k}[37m`,lightRed:`${k}[91m`,lightGreen:`${k}[92m`,lightYellow:`${k}[93m`,lightBlue:`${k}[94m`,lightMagenta:`${k}[95m`,lightCyan:`${k}[96m`,lightWhite:`${k}[97m`});function P(...t){let e=t[0],r="",n=0,i=0;for(r=e[0],n=1,i=t.length;n<i;n++)typeof t[n]=="object"&&t[n]!==null&&t[n].name==="RawHtml"?r+=t[n].toString()+e[n]:r+=cs(t[n].toString())+e[n];return r}o(P,"html");function cs(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}o(cs,"sanitizeHtml");function zr(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}o(zr,"desanitizeHtml");var L=o(class extends Error{constructor(t,e,r){super("Invalid Markup. "+r),this.parsedMarkup=t,this.position=e}getPositionCords(){let t=0,e=0;for(let r=0;r<this.position;r++)this.parsedMarkup[r]===`
`?(t++,e=0):e++;return[t,e]}getStack(){return this.stack??""}getPositionPatch(){let[t,e]=this.getPositionCords(),r=this.parsedMarkup.split(`
`),n=r[t],i=" ".repeat(e)+"^",s="";return t>1&&(s+=r[t-2]+`
`),t>0&&(s+=r[t-1]+`
`),s+=n+`
`+i,s}toString(){return`${this.message}

${this.getPositionPatch()}

${this.getStack()}`}},"MarkupParserError"),Hr=o(class{constructor(t){j(this,"o",{textNode:!1,tag:"",attributes:[],content:[]});j(this,"content",[]);j(this,"lastStringContent","");this.parent=t}addChild(){this.lastStringContent.length&&(this.content.push(this.lastStringContent),this.lastStringContent="");let t=new Hr(this);return this.content.push(t),t}addChar(t){this.lastStringContent+=t}serialize(){for(let t=0;t<this.content.length;t++){let e=this.content[t];typeof e=="string"?this.o.content.push(e):this.o.content.push(e.serialize())}return this.lastStringContent.length&&this.o.content.push(this.lastStringContent),this.o}},"MarkupNodeBuilder"),ls=o(class{constructor(){j(this,"node",new Hr);this.node.o.textNode=!0}addChildNode(){this.node=this.node.addChild()}moveUp(){this.node=this.node.parent}isTopLevel(){return this.node.parent===void 0}serialize(){return this.node.content.length===1&&this.node.o.tag===""&&typeof this.node.content[0]!="string"?this.node.content[0].serialize():this.node.serialize()}},"MarkupBuilder"),Ur=1,Vr=2,Kr=4,Ct=8,Yr=16,vt=32,ne=~Ur,Qe=~Vr,us=~Kr,Jr=~Ct,ps=~Yr,wt=~vt;function _t(t){let e=new ls,r="",n="",i="",s=0;for(let a=0;a<t.length;a++){let c=t[a];switch(s){case 0:{switch(c){case"<":{s=s|Ur,t[a+1]==="/"?(s=s|Yr,a++):e.addChildNode();continue}case"\\":{s=s|Ct;continue}}e.node.addChar(c);break}case 8:{e.node.addChar(c),s=s&Jr;break}case 1:{switch(c){case`
`:{e.node.o.tag.length>0&&(s=s|vt);continue}case" ":{e.node.o.tag.length>0&&(s=s|vt);continue}case">":{if(e.node.o.tag.length===0)throw new L(t,a,"No tag name found.");s=s&ne;continue}case"/":{if(t[a+1]===">")s=s&ne,a++,e.moveUp();else throw new L(t,a,"Invalid character encountered.");continue}case"=":throw new L(t,a-e.node.o.tag.length,"No tag name found.")}e.node.o.tag+=c;break}case 33:{switch(c){case`
`:continue;case" ":continue;case">":{s=s&ne&wt;continue}case"/":{if(t[a+1]===">")s=s&ne&wt,a++,e.moveUp();else throw new L(t,a,"Invalid character encountered.");continue}case"=":throw new L(t,a,"Invalid character encountered.")}s=s|Vr,r+=c;break}case 17:{switch(c){case`
`:continue;case" ":continue;case">":{if(s=s&ne&ps,i!==e.node.o.tag)throw new L(t,a,`Closing tag does not match opening tag, expected '${e.node.o.tag}' but found '${i}'.`);i="",e.moveUp();continue}}i+=c;break}case 35:{switch(c){case"=":{if(s=s&Qe,t[a+1]==='"')s=s|Kr,a+=1;else throw new L(t,a+1,"Attribute values must be enclosed in double quotes.");continue}case`
`:{s=s&Qe,e.node.o.attributes.push([r,!0]),r="";continue}case" ":{s=s&Qe,e.node.o.attributes.push([r,!0]),r="";continue}case">":{s=s&ne&Qe&wt,e.node.o.attributes.push([r,!0]),r="";continue}}r+=c;break}case 37:{switch(c){case'"':{s=s&us,e.node.o.attributes.push([r,n]),r="",n="";continue}case"\\":{s=s|Ct;continue}}n+=c;break}case 45:{n+=c,s=s&Jr;break}}}if(!e.isTopLevel())throw new L(t,t.length-1,`Closing tag is missing. Expected a close tag for '${e.node.o.tag}' before the end of the document.`);return e.serialize()}o(_t,"parseMarkup");var Ze=o((t,e,r=" ")=>{r=r[0]??" ";let n=r.repeat(e);return t.split(`
`).map(s=>`${n}${s}`).join(`
`)},"leftPad");var ds=Object.defineProperty,fs=o((t,e,r)=>e in t?ds(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Xr=o((t,e,r)=>(fs(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),Qr=o(class{static get currentScope(){return this._currentScope}static enterScope(t){let e=t;this.scopeStack.push(e),this._currentScope=e}static exitScope(){this.scopeStack.pop(),this._currentScope=this.scopeStack[this.scopeStack.length-1]??{}}static traverseUp(t){for(let e=this.scopeStack.length-1;e>=0;e--)t(this.scopeStack[e])}},"_ScopeTracker"),v=Qr;Xr(v,"scopeStack",[{tag:""}]);Xr(v,"_currentScope",Qr.scopeStack[0]);var W="\x1B",ms=`${W}[1m`,gs=`${W}[2m`,hs=`${W}[3m`,ys=`${W}[4m`,bs=`${W}[5m`,ws=`${W}[7m`,Cs=`${W}[9m`,xt=o(class{static defineColor(t,...e){Xe.define(t,...e),O.define(t,...e)}static format(t){let e=_t(t);return O.get("unset")+zr(this.formatMarkup(e))}static formatMarkup(t){let e="";switch(t.tag){case"li":case"pre":case"line":case"span":return v.enterScope(this.createScope(t)),e+=this.scopeToAnsi(v.currentScope)+this.join(t.content.map(r=>this.mapContents(r,t.tag==="pre"))),v.exitScope(),e+=O.get("unset"),t.tag==="line"&&(e+=`
`),e+=this.scopeToAnsi(v.currentScope),e;case"ol":case"ul":{let r=this.getListElementPrefix(t),n=this.getListPadding();return v.enterScope(this.createScope(t)),e+=this.scopeToAnsi(v.currentScope)+this.join(t.content.filter(i=>typeof i!="string"||i.trim().length).map((i,s)=>{if(typeof i=="string"||i.tag!=="li")throw new Error(`Invalid element inside <${t.tag}>. Each child of <${t.tag}> must be a <li> element.`);let{contentPad:a,firstLineOffset:c}=this.getContentPad(t,s+1),l=r(s)+Ze(this.mapContents(i),a).substring(c);return Ze(l,n)+`
`})),v.exitScope(),e+=O.get("unset")+this.scopeToAnsi(v.currentScope),e}case"pad":{v.enterScope(this.createScope(t));let r=this.getAttribute(t,"size")??0,n=this.scopeToAnsi(v.currentScope)+this.join(t.content.map(i=>this.mapContents(i)));return e+=Ze(n,Number(r)),v.exitScope(),e+=O.get("unset")+this.scopeToAnsi(v.currentScope),e}case"br":return e+`
`;case"s":return e+" ";case"":return e+=this.join(t.content.map(r=>this.mapContents(r))),e}throw new Error(`Invalid tag: <${t.tag}>`)}static join(t){let e="";for(let r=0;r<t.length;r++)e+=t[r];return e}static getAttribute(t,e){for(let[r,n]of t.attributes)if(r===e)return kt(n,"string")}static mapContents(t,e){return typeof t=="string"?e?t:t.replaceAll(`
`,"").trim():this.formatMarkup(t)}static getListPadding(){let t=0;return v.traverseUp(e=>{(e.tag==="ol"||e.tag==="ul")&&(t+=1)}),t===0?0:(t-1)*2}static getContentPad(t,e){if(t.tag==="ul")return{contentPad:2,firstLineOffset:2};let r=t.content.length.toString().length,n=t.content.length.toString().length+2;return{contentPad:n,firstLineOffset:n-(r-e.toString().length)}}static getListElementPrefix(t){if(t.tag==="ol")return n=>`${n+1}. `;let e=this.getAttribute(t,"type")??"bullet",r=(()=>{switch(e){case"bullet":return String.fromCharCode(9679);case"circle":return String.fromCharCode(9675);case"square":return String.fromCharCode(9633);default:throw new Error(`Invalid list type: ${e}`)}})();return()=>`${r} `}static scopeToAnsi(t){let e="";return t.noInherit&&(e+=O.get("unset")),t.color&&(e+=O.get(t.color)),t.bg&&(e+=Xe.get(t.bg)),t.bold&&(e+=ms),t.dimmed&&(e+=gs),t.italic&&(e+=hs),t.underscore&&(e+=ys),t.blink&&(e+=bs),t.inverted&&(e+=ws),t.strikethrough&&(e+=Cs),e}static createScope(t){let r=t.attributes.some(([n,i])=>n==="no-inherit"&&(i===!0||i==="true"))?{noInherit:!0}:{...v.currentScope,noInherit:!1};t.tag&&(r.tag=t.tag);for(let[n,i]of t.attributes)switch(n){case"color":r.color=kt(i,"string");break;case"bg":r.bg=kt(i,"string");break;case"bold":r.bold=i===!0||i==="true";break;case"dim":r.dimmed=i===!0||i==="true";break;case"italic":r.italic=i===!0||i==="true";break;case"underscore":r.underscore=i===!0||i==="true";break;case"blink":r.blink=i===!0||i==="true";break;case"invert":r.inverted=i===!0||i==="true";break;case"strike":r.strikethrough=i===!0||i==="true";break}return r}},"MarkupFormatter");function kt(t,e){if(typeof t===e)return t;throw new Error(`Invalid attribute type: ${typeof t} (expected ${e})`)}o(kt,"as");var vs=Object.defineProperty,_s=o((t,e,r)=>e in t?vs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Nt=o((t,e,r)=>(_s(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),G=o(class{constructor(t){j(this,"_printFn");if(t)this._printFn=t;else if(G.defaultPrintFn)this._printFn=G.defaultPrintFn;else if(typeof print=="function")this._printFn=print;else if(typeof console<"u"&&console.log)this._printFn=e=>console.log(e);else throw new Error("Unable to detect print function for current environment.")}static print(...t){G.globalOutput.print(...t)}static println(...t){G.globalOutput.println(...t)}static setDefaultPrintMethod(t){G.defaultPrintFn=t,G.globalOutput=new G(t)}printError(t){t!=null&&(this._printFn(t.toString()+`
`),typeof t=="object"&&t.stack&&this._printFn(t.stack+`
`))}parseMarkupLines(t){let e=[];for(let r of t)e.push(xt.format(r));return e}print(...t){try{let e=this.parseMarkupLines(t);for(let r of e)this._printFn(r)}catch(e){this._printFn(O.get("red")+"Failed to format/print given markup."+O.get("unset")+`
`),this.printError(e)}}println(...t){try{let e=this.parseMarkupLines(t);for(let r of e)this._printFn(r+`
`)}catch(e){this._printFn(O.get("red")+"Failed to format/print given markup."+O.get("unset")+`
`),this.printError(e)}}},"_Output"),x=G;Nt(x,"defaultPrintFn");Nt(x,"globalOutput");try{x.globalOutput=new x}catch{}var et=o(class{constructor(t=x){j(this,"buffer",[]);this.output=t}static print(t){et.globalOutputBuffer.print(t)}static println(t){et.globalOutputBuffer.println(t)}print(...t){this.buffer.push(...t.map(e=>({type:"print",markup:e})))}println(...t){this.buffer.push(...t.map(e=>({type:"println",markup:e})))}flush(){for(let{type:t,markup:e}of this.buffer)switch(t){case"print":this.output.print(e);break;case"println":this.output.println(e);break}this.buffer=[]}pipe(t){return this.buffer.length===0||(t.buffer.push(...this.buffer),this.buffer=[]),t}pipeReverse(t){return t.buffer.length===0?this:(this.buffer.push(...t.buffer),t.buffer=[],this)}},"_OutputBuffer"),Zr=et;Nt(Zr,"globalOutputBuffer",new et);var en=o(async t=>{x.print(P`
    <span color="lightGreen">Configuring:</span>
    <pre> git-hook-tasks</pre>
  `),await t.run("git-hook-tasks","install","-p",t.getName())},"configureGitHookTasks");var tn=o(t=>{let e=[{name:"TypeScript",script:"test:tsc"}];return{packageManager:t.packageManager.getName(),parallel:!0,hooks:{"pre-push":e,"pre-commit":[],"post-commit":[]}}},"getGitHookTasksConfig");var rn=["/node_modules","/coverage","/dist","/yarn-error.log","/.yarn/cache","/.yarn/install-state.gz"].join(`
`);var nn=o(t=>`MIT License

  Copyright (c) ${new Date().getFullYear()}${t.authorName?` ${t.authorName}`:""}
  
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  
  The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.
  
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.`,"getLicense");var sn=`
//registry.npmjs.org/:_authToken=\${NPM_TOKEN}
`.trim();var on=["/__mocks__","/__tests__","/.github","/.husky","/.vscode","/coverage","/scripts","/src","/.editorconfig","/.eslintignore","/.eslintrc.json","/.gitignore","/.prettierignore","/.prettierrc.json","/.yarn","/.yarnrc.yml","/git-hook-tasks.config.json","/jest.config.js","/tsconfig.json","/yarn-error.log"].join(`
`);var an={compilerOptions:{target:"ESNext",module:"ES6",moduleResolution:"node",jsx:"react",declaration:!0,outDir:"./dist",rootDir:"./src",downlevelIteration:!0,strict:!0,noUnusedLocals:!0,noUncheckedIndexedAccess:!0,esModuleInterop:!0,skipLibCheck:!0,forceConsistentCasingInFileNames:!0,isolatedModules:!0,noImplicitAny:!0},include:["src/**/*"]};var cn={"editor.formatOnSave":!0,"editor.codeActionsOnSave":["source.organizeImports","source.fixAll.eslint"]};var be=class{getName(){return"Main"}async beforeStart(e){let r=It.default.resolve(e.projectDir,".vscode");switch(await ln.default.mkdir(r),e.packageManager.getName()){case"yarn":{await e.packageManager.changeVersion("classic");break}case"bun":{await e.packageManager.run("init","--yes");break}}}getDevDependencies(e){return[new d("typescript"),new d("husky",{version:"~8"}),new d("git-hook-tasks",{register:"github",user:"ncpa0cpl",version:"0.0.1"})]}getConfigFiles(){return[new f(()=>rn,".gitignore"),new f(()=>an,"tsconfig.json"),new f(()=>sn,".npmrc"),new f(()=>on,".npmignore"),new f(nn,"LICENSE"),new f(tn,"git-hook-tasks.config.json"),new f(()=>cn,"settings.json",".vscode")]}async afterEnd(e){if(e.packageManager.getName()!=="bun")await en(e.packageManager);else{await e.packageManager.run("husky","install"),await e.packageManager.run("husky","add",".husky/pre-push",`"${await e.packageManager.generateCommand("git-hook-tasks pre-push")}"`);let r=Bun.file(It.default.join(e.packageManager.wd(),".husky/pre-push"));await Bun.write(r,await r.text().then(n=>n.replace(/\\/g,"")))}}};o(be,"MainModule");var pn=g(require("fs/promises")),dn=g(require("path"));var un=A`
import { build } from "@ncpa0cpl/nodepack";
import path from "node:path";
import { fileURLToPath } from "url";

const __dirname = path.dirname(fileURLToPath(import.meta.url));
const p = (...fpath) => path.resolve(__dirname, "..", ...fpath);

const isDev = process.argv.includes("--dev");
const watch = process.argv.includes("--watch");

async function main() {
  /**
   * @type {import("@ncpa0cpl/nodepack").BuildConfig}
   */
  const bldOptions = {
    tsConfig: p("tsconfig.json"),
    srcDir: p("src"),
    outDir: p("dist"),
    target: "ESNext",
    formats: ["esm", "cjs", "legacy"],
    declarations: true,
    watch: watch,
    esbuildOptions: {
      minify: !isDev,
      sourcemap: isDev ? "inline" : false,
    }
  }

  await build(bldOptions);
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});
`;var we=class{getName(){return"nodepack"}async beforeStart(e){let r=dn.default.resolve(e.projectDir,"scripts");await pn.default.mkdir(r)}getDevDependencies(){return[new d("esbuild"),new d("@ncpa0cpl/nodepack")]}getConfigFiles(){return[new f(()=>un,"build.mjs","scripts")]}packageJsonMiddleware(e){return e.addScript("build","node ./scripts/build.mjs"),e}};o(we,"NodepackModule");var Ce=class{getName(){return"oxlint"}getDevDependencies(){return[new d("oxlint")]}getConfigFiles(){return[]}packageJsonMiddleware(e){return e.addScript("fix:lint","oxlint --fix ./src"),e.addScript("test:lint","oxlint ./src"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&I(r)&&r.hooks["pre-push"].push({name:"Lint",script:"test:lint"})}};o(Ce,"OxlintModule");var fn=["**/*.json"].join(`
`);var mn=A`
/**
 * @type {import("prettier").Options}
 */
const config = {
  bracketSpacing: true,
  tabWidth: 2,
  semi: true,
  singleQuote: false,
  printWidth: 70,
  singleAttributePerLine: true,
  plugins: ["./node_modules/prettier-plugin-jsdoc/dist/index.js"],
  jsdocSingleLineComment: false,
};

export default config;
`;var ve=class{getName(){return"prettier"}getDevDependencies(){return[new d("prettier-plugin-jsdoc"),new d("prettier")]}getConfigFiles(){return[new f(()=>mn,".prettierrc.mjs"),new f(()=>fn,".prettierignore")]}packageJsonMiddleware(e){return e.addScript("fix:fmt","prettier -w ./src/**/*.ts"),e.addScript("test:fmt","prettier -c ./src/**/*.ts"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&I(r)&&r.hooks["pre-push"].push({name:"Check Formatting",script:"test:fmt"})}};o(ve,"PrettierModule");var _e=class{getName(){return"build-tsc"}packageJsonMiddleware(e){return e.addScript("build","tsc"),e}};o(_e,"TscBuilderModule");var hn=g(require("fs/promises")),yn=g(require("path"));var gn=`
import { defineConfig } from "vitest/config";

export default defineConfig({
  test: {
    clearMocks: true,
    dir: "__tests__",
  },
});
`.trimStart();var ke=class{getName(){return"vitest"}async beforeStart(e){let r=yn.default.resolve(e.projectDir,"__tests__");await hn.default.mkdir(r)}getDevDependencies(){return[new d("vitest")]}getConfigFiles(){return[new f(()=>gn,"vitest.config.mts"),new f(()=>re,"tsconfig.json","__tests__")]}packageJsonMiddleware(e){return e.addScript("test:unit","vitest run"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&I(r)&&r.hooks["pre-push"].push({name:"Unit Tests",script:"test:unit"})}};o(ke,"VitestModule");var bn=o(()=>`
enableGlobalCache: true

nodeLinker: node-modules

enableMessageNames: false

enableProgressBars: true
`.trim()+`
`,"getYarnRc");var xe=class{getName(){return"yarn3"}getConfigFiles(){return[new f(bn,".yarnrc.yml")]}async beforeStart(e){return await e.packageManager.changeVersion("stable")}};o(xe,"YarnBerryModule");var ks=new be,Ot=class{constructor(e){this.loadedModules=[ks];e.moduleList==="default"&&(e.moduleList="dprint,nodepack,vitest");let r=e.moduleList.split(",").filter(n=>Boolean(n));for(let n of r){let i=Ot.Modules.find(s=>s.getName()===n);i||(console.error(`'${n}' is not a valid module`),process.exit(1)),this.loadedModules.includes(i)||this.loadedModules.push(i)}this.ctx={allLoadedModules:this.loadedModules.map(n=>n.getName()),packageManager:e.packageManager,projectName:e.projectName,authorName:e.authorName,projectDir:""}}static listAvailableModules(){return this.Modules.map(e=>e.getName()).join(", ")}getContext(){return this.ctx}async beforeStart(e){this.ctx.projectDir=e,Object.freeze(this.ctx);for(let r of this.loadedModules)r.beforeStart&&await r.beforeStart(this.ctx)}async afterEnd(){for(let e of this.loadedModules)e.afterEnd&&await e.afterEnd(this.ctx)}getDependencies(){return this.loadedModules.flatMap(e=>e.getDependencies?.(this.ctx)).filter(e=>e!=null)}getDevDependencies(){return this.loadedModules.flatMap(e=>e.getDevDependencies?.(this.ctx)).filter(e=>e!=null)}prepareFile(e){let r=this.loadedModules.reduce((n,i)=>i.beforeWriteFile?.(e.filename,n,this.ctx)??n,e.getContent(this.ctx));return{filepath:wn.default.join(e.location,e.filename),content:typeof r=="string"?r:JSON.stringify(r,null,2)}}getConfigFiles(){return this.loadedModules.flatMap(e=>e.getConfigFiles?.(this.ctx)).filter(e=>e!=null).map(e=>this.prepareFile(e))}async applyPackageJsonMiddleware(e){let r=e;for(let n of this.loadedModules)n.packageJsonMiddleware&&(r=await n.packageJsonMiddleware(r,this.ctx));return r}},$=Ot;o($,"ModuleController"),$.Modules=[new he,new ke,new ge,new xe,new _e,new we,new fe,new me,new ve,new de,new Ce];var Cn=ie.Argument.define({flagChar:"-p",keyword:"--package-manager",dataType:"string",default:"yarn",require:!0,description:"Package manager used to install dependencies. (yarn, bun or npm)"}),vn=ie.Argument.define({flagChar:"-n",keyword:"--name",dataType:"string",require:!0,description:"The name of the project."}),_n=ie.Argument.define({flagChar:"-o",keyword:"--output-dir",dataType:"string",description:"Path to the directory in which the Project should be located."}),kn=ie.Argument.define({flagChar:"-a",keyword:"--author",dataType:"string",description:"Name of the author."}),xn=ie.Argument.define({flagChar:"-m",keyword:"--modules",dataType:"string",description:`Comma separated list of modules. Available modules: ${$.listAvailableModules()}`});var se=g(require("fs/promises")),Ie=g(require("path"));var Nn=g(require("child_process")),In=g(require("fs/promises")),On=g(require("path"));var M=o(t=>t.map(e=>e.replace(/\s/g,"\\ ")).join(" "),"parseArgs");var xs=["run","test","x","repl","install","add","remove","update","link","unlink","pm","build","init","create","upgrade"],N,Tn=(o(N=class{static getName(){return"bun"}static async execute(e){return new Promise((r,n)=>{Nn.default.exec(e,{cwd:N.cwd},(i,s)=>i?n(i):r(s))})}static async getVersion(){return"1.0.0"}static async changeVersion(e){}static setCwd(e){N.cwd=e}static wd(){return N.cwd}static async init(){if((await N.getVersion()).startsWith("3"))return N.run("init","-y")}static install(e){let r=[];return r.push(e),N.run("add",...r)}static installDev(e){let r=["-d"];return r.push(e),N.run("add",...r)}static async run(e,...r){return N.execute(await N.generateCommand(e,...r))}static async generateCommand(e,...r){let n=On.default.resolve(N.cwd,"package.json"),i=[];try{let s=await In.default.readFile(n,{encoding:"utf-8"}),a=JSON.parse(s);i.push(...Object.keys(a.scripts))}catch{}return i.includes(e)?M(["bun","run",e,...r]):xs.includes(e)?M(["bun",e,...r]):M(["bun","x",e,...r])}},"BunPM"),N.cwd=process.cwd(),N);var Sn=g(require("child_process")),Mn=g(require("fs/promises")),En=g(require("path"));var T,Pn=(o(T=class{static getName(){return"npm"}static execute(e){return new Promise((r,n)=>{Sn.default.exec(e,{cwd:T.cwd},i=>i?n(i):r())})}static async init(){}static async changeVersion(){}static async getVersion(){return""}static setCwd(e){T.cwd=e}static wd(){return T.cwd}static install(e){let r=["npm","install"];return r.push(e),T.execute(M(r))}static installDev(e){let r=["npm","install","-D"];return r.push(e),T.execute(M(r))}static async run(e,...r){return T.execute(await T.generateCommand(e,...r))}static async generateCommand(e,...r){let n=En.default.resolve(T.cwd,"package.json"),i=[];try{let s=await Mn.default.readFile(n,{encoding:"utf-8"}),a=JSON.parse(s);i.push(...Object.keys(a.scripts))}catch{}if(i.includes(e)){let s=["npm","run",e];return r.length>0&&(s.push("--"),s.push(...r)),M(s)}return M(["npx",e,...r])}},"Npm"),T.cwd=process.cwd(),T);var Fn=g(require("child_process"));var b,An=(o(b=class{static getName(){return"yarn"}static async execute(e){return new Promise((r,n)=>{Fn.default.exec(e,{cwd:b.cwd},(i,s)=>i?n(i):r(s))})}static async getVersion(){return b.version?b.version:(this.version=await b.run("-v"),this.version)}static async changeVersion(e){await b.run("set","version",e),this.version=void 0,await b.getVersion()}static setCwd(e){b.cwd=e}static wd(){return b.cwd}static async init(){if((await b.getVersion()).startsWith("3"))return b.run("init")}static install(e){let r=[];return r.push(e),b.run("add",...r)}static installDev(e){let r=["-D"];return r.push(e),b.run("add",...r)}static async run(e,...r){return b.execute(await b.generateCommand(e,...r))}static async generateCommand(e,...r){return["yarn",e,...r].map(n=>n.replace(" ","\\ ")).join(" ")}},"Yarn"),b.cwd=process.cwd(),b);var jn=o(t=>{switch(t){case"npm":return Pn;case"yarn":return An;case"bun":return Tn}console.error(`Invalid package manager argument: (${t})`),process.exit(1)},"getPackageManager");var Rn=g(require("child_process"));var z=class{static async execute(e){await new Promise((r,n)=>{Rn.default.exec(e,{cwd:z.cwd},i=>i?n(i):r())})}static setCwd(e){z.cwd=e}static init(e){return z.setCwd(e),z.execute(M(["git","init"]))}static add(...e){e.length===0&&e.push("."),z.execute(M(["git","add",...e]))}},J=z;o(J,"Git"),J.cwd=process.cwd();var Dn=g(require("fs/promises")),Ln=g(require("path"));var Gn=o(async(t,e)=>{x.print(P`
      <span color="lightGreen">Generating:</span>
      <pre> config files</pre>
    `);let r=e.getConfigFiles().map(async n=>{await Dn.default.writeFile(Ln.default.resolve(t,n.filepath),n.content)});return Promise.all(r)},"createConfigFiles");var Tt=g(require("fs/promises")),$n=g(require("path"));var Ne=class{constructor(e={}){this.packageJson=e}addScript(e,r){Object.defineProperty(this.packageJson.scripts,e,{value:r,enumerable:!0})}addIfNotExists(e,r){e in this.packageJson||Object.defineProperty(this.packageJson,e,{value:r,enumerable:!0})}toJSON(){return JSON.stringify(this.packageJson,null,2)}};o(Ne,"PkgJsonFacade");var Bn=o(async(t,e)=>{x.print(P`
    <span color="lightGreen">Generating:</span>
    <pre> package.json file</pre>
  `);let r=e.getContext(),n=$n.default.resolve(t,"package.json"),i=await Tt.default.readFile(n,{encoding:"utf-8"}),s=JSON.parse(i),a=new Ne({name:r.projectName,version:"1.0.0",main:"./dist/index.js",keywords:[],repository:{type:"git",url:""},description:"",license:"MIT",author:{name:r.authorName??"",email:""},scripts:{"test:tsc":"tsc --noEmit",prepare:"husky install"}});for(let[c,l]of Object.entries(s))a.addIfNotExists(c,l);return await e.applyPackageJsonMiddleware(a).then(c=>Tt.default.writeFile(n,c.toJSON()))},"updatePackageFile");var qn=o(async t=>{let{projectName:e,authorName:r,cwd:n,packageManager:i,modules:s}=t,a=jn(i.value),c=new $({moduleList:s.value??"",packageManager:a,projectName:e.value,authorName:r.value}),l=n.value??process.cwd(),p=Ie.default.resolve(l,e.value),m=Ie.default.resolve(p,"src"),y=Ie.default.resolve(p,"dist"),B=Ie.default.resolve(m,"index.ts");(await se.default.readdir(l)).includes(e.value)&&(console.error(`Directory with the name "${e.value}" already exists.`),process.exit(1)),await se.default.mkdir(p),a.setCwd(p),await a.init(),await c.beforeStart(p),await J.init(p),x.print(P`
    <span color="lightGreen">Generating:</span>
    <pre color="lightYellow"> ${e.value} </pre>
    <span>project files</span>
  `),await Promise.all([se.default.mkdir(m),se.default.mkdir(y),Gn(p,c)]),await se.default.writeFile(B,""),d.setPackageManagerType(a.getName(),await a.getVersion());for(let q of c.getDependencies())x.print(P`
      <span color="lightGreen">Installing dependency:</span>
      <pre> ${q.getFriendlyName()}</pre>
    `),await a.install(q.getInstallName());for(let q of c.getDevDependencies())x.print(P`
      <span color="lightGreen">Installing development dependency:</span>
      <pre> ${q.getFriendlyName()}</pre>
    `),await a.installDev(q.getInstallName());await Bn(p,c),await c.afterEnd(),await J.add()},"mainAction");var Ns="generate-new-project",Is="Generate a new Typescript project.";Wn.default.configure(t=>{t.setDisplayName(Ns),t.setDescription(Is),t.setMainAction(()=>{let e=new _n,r=new Cn,n=new vn,i=new kn,s=new xn;return{run(){return qn({cwd:e,packageManager:r,projectName:n,authorName:i,modules:s})}}})});
