#!/usr/bin/env node
"use strict";var $n=Object.create;var ve=Object.defineProperty;var Gn=Object.getOwnPropertyDescriptor;var Bn=Object.getOwnPropertyNames;var qn=Object.getPrototypeOf,zn=Object.prototype.hasOwnProperty;var Wn=(t,e,r)=>e in t?ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var a=(t,e)=>ve(t,"name",{value:e,configurable:!0});var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Un=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Bn(e))!zn.call(t,i)&&i!==r&&ve(t,i,{get:()=>e[i],enumerable:!(n=Gn(e,i))||n.enumerable});return t};var b=(t,e,r)=>(r=t!=null?$n(qn(t)):{},Un(e||!t||!t.__esModule?ve(r,"default",{value:t,enumerable:!0}):r,t));var R=(t,e,r)=>(Wn(t,typeof e!="symbol"?e+"":e,r),r);var Nt=m((Is,It)=>{"use strict";It.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Qe=m((Ns,Mt)=>{var ie=Nt(),Tt={};for(let t of Object.keys(ie))Tt[ie[t]]=t;var u={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Mt.exports=u;for(let t of Object.keys(u)){if(!("channels"in u[t]))throw new Error("missing channels property: "+t);if(!("labels"in u[t]))throw new Error("missing channel labels property: "+t);if(u[t].labels.length!==u[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=u[t];delete u[t].channels,delete u[t].labels,Object.defineProperty(u[t],"channels",{value:e}),Object.defineProperty(u[t],"labels",{value:r})}u.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,c,l;s===i?c=0:e===s?c=(r-n)/o:r===s?c=2+(n-e)/o:n===s&&(c=4+(e-r)/o),c=Math.min(c*60,360),c<0&&(c+=360);let p=(i+s)/2;return s===i?l=0:p<=.5?l=o/(s+i):l=o/(2-s-i),[c,l*100,p*100]};u.rgb.hsv=function(t){let e,r,n,i,s,o=t[0]/255,c=t[1]/255,l=t[2]/255,p=Math.max(o,c,l),d=p-Math.min(o,c,l),f=a(function(S){return(p-S)/6/d+1/2},"diffc");return d===0?(i=0,s=0):(s=d/p,e=f(o),r=f(c),n=f(l),o===p?i=n-r:c===p?i=1/3+e-n:l===p&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,p*100]};u.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=u.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};u.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,c=(1-n-i)/(1-i)||0;return[s*100,o*100,c*100,i*100]};function Hn(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}a(Hn,"comparativeDistance");u.rgb.keyword=function(t){let e=Tt[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(ie)){let s=ie[i],o=Hn(t,s);o<r&&(r=o,n=i)}return n};u.keyword.rgb=function(t){return ie[t]};u.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};u.rgb.lab=function(t){let e=u.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),c=200*(n-i);return[s,o,c]};u.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let c=2*n-i,l=[0,0,0];for(let p=0;p<3;p++)s=e+1/3*-(p-1),s<0&&s++,s>1&&s--,6*s<1?o=c+(i-c)*6*s:2*s<1?o=i:3*s<2?o=c+(i-c)*(2/3-s)*6:o=c,l[p]=o*255;return l};u.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,c=n===0?2*i/(s+i):2*r/(n+r);return[e,c*100,o*100]};u.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),c=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,l,o];case 1:return[c,n,o];case 2:return[o,n,l];case 3:return[o,c,n];case 4:return[l,o,n];case 5:return[n,o,c]}};u.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let c=(2-r)*i;return s=r*i,s/=c<=1?c:2-c,s=s||0,o/=2,[e,s*100,o*100]};u.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*e),c=1-n;s=6*e-o,o&1&&(s=1-s);let l=r+s*(c-r),p,d,f;switch(o){default:case 6:case 0:p=c,d=l,f=r;break;case 1:p=l,d=c,f=r;break;case 2:p=r,d=c,f=l;break;case 3:p=r,d=l,f=c;break;case 4:p=l,d=r,f=c;break;case 5:p=c,d=r,f=l;break}return[p*255,d*255,f*255]};u.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),c=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,c*255]};u.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};u.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};u.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;let c=s**3,l=i**3,p=o**3;return s=c>.008856?c:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=p>.008856?p:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};u.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[e,o,i]};u.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};u.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?u.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};u.hsv.ansi16=function(t){return u.rgb.ansi16(u.hsv.rgb(t),t[2])};u.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};u.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};u.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};u.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};u.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(c=>c+c).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};u.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,c,l;return o<1?c=s/(1-o):c=0,o<=0?l=0:i===e?l=(r-n)/o%6:i===r?l=2+(n-e)/o:l=4+(e-r)/o,l/=6,l%=1,[l*360,o*100,c*100]};u.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};u.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};u.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,o=s%1,c=1-o,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};u.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};u.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};u.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};u.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};u.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};u.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};u.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};u.gray.hsl=function(t){return[0,0,t[0]]};u.gray.hsv=u.gray.hsl;u.gray.hwb=function(t){return[0,100,t[0]]};u.gray.cmyk=function(t){return[0,0,0,t[0]]};u.gray.lab=function(t){return[t[0],0,0]};u.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};u.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Et=m((Ms,St)=>{var _e=Qe();function Jn(){let t={},e=Object.keys(_e);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}a(Jn,"buildGraph");function Vn(t){let e=Jn(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(_e[n]);for(let s=i.length,o=0;o<s;o++){let c=i[o],l=e[c];l.distance===-1&&(l.distance=e[n].distance+1,l.parent=n,r.unshift(c))}}return e}a(Vn,"deriveBFS");function Yn(t,e){return function(r){return e(t(r))}}a(Yn,"link");function Kn(t,e){let r=[e[t].parent,t],n=_e[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=Yn(_e[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}a(Kn,"wrapConversion");St.exports=function(t){let e=Vn(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let o=n[s];e[o].parent!==null&&(r[o]=Kn(o,e))}return r}});var At=m((Es,Pt)=>{var Ze=Qe(),Xn=Et(),z={},Qn=Object.keys(Ze);function Zn(t){let e=a(function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}a(Zn,"wrapRaw");function ei(t){let e=a(function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}a(ei,"wrapRounded");Qn.forEach(t=>{z[t]={},Object.defineProperty(z[t],"channels",{value:Ze[t].channels}),Object.defineProperty(z[t],"labels",{value:Ze[t].labels});let e=Xn(t);Object.keys(e).forEach(n=>{let i=e[n];z[t][n]=ei(i),z[t][n].raw=Zn(i)})});Pt.exports=z});var $t=m((As,Dt)=>{"use strict";var jt=a((t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,"wrapAnsi16"),Rt=a((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},"wrapAnsi256"),Ft=a((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},"wrapAnsi16m"),ke=a(t=>t,"ansi2ansi"),Lt=a((t,e,r)=>[t,e,r],"rgb2rgb"),W=a((t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},"setLazyProperty"),et,U=a((t,e,r,n)=>{et===void 0&&(et=At());let i=n?10:0,s={};for(let[o,c]of Object.entries(et)){let l=o==="ansi16"?"ansi":o;o===e?s[l]=t(r,i):typeof c=="object"&&(s[l]=t(c[e],i))}return s},"makeDynamicStyles");function ti(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,s]of Object.entries(n))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",W(e.color,"ansi",()=>U(jt,"ansi16",ke,!1)),W(e.color,"ansi256",()=>U(Rt,"ansi256",ke,!1)),W(e.color,"ansi16m",()=>U(Ft,"rgb",Lt,!1)),W(e.bgColor,"ansi",()=>U(jt,"ansi16",ke,!0)),W(e.bgColor,"ansi256",()=>U(Rt,"ansi256",ke,!0)),W(e.bgColor,"ansi16m",()=>U(Ft,"rgb",Lt,!0)),e}a(ti,"assembleStyles");Object.defineProperty(Dt,"exports",{enumerable:!0,get:ti})});var Bt=m((Rs,Gt)=>{"use strict";Gt.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Wt=m((Fs,zt)=>{"use strict";var ri=require("os"),qt=require("tty"),T=Bt(),{env:y}=process,F;T("no-color")||T("no-colors")||T("color=false")||T("color=never")?F=0:(T("color")||T("colors")||T("color=true")||T("color=always"))&&(F=1);"FORCE_COLOR"in y&&(y.FORCE_COLOR==="true"?F=1:y.FORCE_COLOR==="false"?F=0:F=y.FORCE_COLOR.length===0?1:Math.min(parseInt(y.FORCE_COLOR,10),3));function tt(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}a(tt,"translateLevel");function rt(t,e){if(F===0)return 0;if(T("color=16m")||T("color=full")||T("color=truecolor"))return 3;if(T("color=256"))return 2;if(t&&!e&&F===void 0)return 0;let r=F||0;if(y.TERM==="dumb")return r;if(process.platform==="win32"){let n=ri.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in y)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in y)||y.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in y)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(y.TEAMCITY_VERSION)?1:0;if(y.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in y){let n=parseInt((y.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(y.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(y.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(y.TERM)||"COLORTERM"in y?1:r}a(rt,"supportsColor");function ni(t){let e=rt(t,t&&t.isTTY);return tt(e)}a(ni,"getSupportLevel");zt.exports={supportsColor:ni,stdout:tt(rt(!0,qt.isatty(1))),stderr:tt(rt(!0,qt.isatty(2)))}});var Ht=m((Ds,Ut)=>{"use strict";var ii=a((t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,o="";do o+=t.substr(s,n-s)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return o+=t.substr(s),o},"stringReplaceAll"),si=a((t,e,r,n)=>{let i=0,s="";do{let o=t[n-1]==="\r";s+=t.substr(i,(o?n-1:n)-i)+e+(o?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.substr(i),s},"stringEncaseCRLFWithFirstIndex");Ut.exports={stringReplaceAll:ii,stringEncaseCRLFWithFirstIndex:si}});var Xt=m((Gs,Kt)=>{"use strict";var oi=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Jt=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,ai=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ci=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,li=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Yt(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):li.get(t)||t}a(Yt,"unescape");function ui(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(ai))r.push(i[2].replace(ci,(c,l,p)=>l?Yt(l):p));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`)}return r}a(ui,"parseArguments");function pi(t){Jt.lastIndex=0;let e=[],r;for(;(r=Jt.exec(t))!==null;){let n=r[1];if(r[2]){let i=ui(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}a(pi,"parseStyle");function Vt(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let[i,s]of Object.entries(r))if(Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}a(Vt,"buildStyle");Kt.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(oi,(s,o,c,l,p,d)=>{if(o)i.push(Yt(o));else if(l){let f=i.join("");i=[],n.push(r.length===0?f:Vt(t,r)(f)),r.push({inverse:c,styles:pi(l)})}else if(p){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Vt(t,r)(i.join(""))),i=[],r.pop()}else i.push(d)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var Me=m((qs,nr)=>{"use strict";var se=$t(),{stdout:it,stderr:st}=Wt(),{stringReplaceAll:di,stringEncaseCRLFWithFirstIndex:fi}=Ht(),{isArray:Oe}=Array,Zt=["ansi","ansi","ansi256","ansi16m"],H=Object.create(null),gi=a((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=it?it.level:0;t.level=e.level===void 0?r:e.level},"applyOptions"),xe=class{constructor(e){return er(e)}};a(xe,"ChalkClass");var er=a(t=>{let e={};return gi(e,t),e.template=(...r)=>rr(e.template,...r),Object.setPrototypeOf(e,Ie.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=xe,e.template},"chalkFactory");function Ie(t){return er(t)}a(Ie,"Chalk");for(let[t,e]of Object.entries(se))H[t]={get(){let r=Ne(this,ot(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};H.visible={get(){let t=Ne(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var tr=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of tr)H[t]={get(){let{level:e}=this;return function(...r){let n=ot(se.color[Zt[e]][t](...r),se.color.close,this._styler);return Ne(this,n,this._isEmpty)}}};for(let t of tr){let e="bg"+t[0].toUpperCase()+t.slice(1);H[e]={get(){let{level:r}=this;return function(...n){let i=ot(se.bgColor[Zt[r]][t](...n),se.bgColor.close,this._styler);return Ne(this,i,this._isEmpty)}}}}var mi=Object.defineProperties(()=>{},{...H,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),ot=a((t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},"createStyler"),Ne=a((t,e,r)=>{let n=a((...i)=>Oe(i[0])&&Oe(i[0].raw)?Qt(n,rr(n,...i)):Qt(n,i.length===1?""+i[0]:i.join(" ")),"builder");return Object.setPrototypeOf(n,mi),n._generator=t,n._styler=e,n._isEmpty=r,n},"createBuilder"),Qt=a((t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=di(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=fi(e,i,n,s)),n+e+i},"applyStyle"),nt,rr=a((t,...e)=>{let[r]=e;if(!Oe(r)||!Oe(r.raw))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return nt===void 0&&(nt=Xt()),nt(t,i.join(""))},"chalkTag");Object.defineProperties(Ie.prototype,H);var Te=Ie();Te.supportsColor=it;Te.stderr=Ie({level:st?st.level:0});Te.stderr.supportsColor=st;nr.exports=Te});var at=m(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.isNumerical=void 0;var hi=a(t=>/^[0-9]+$/.test(t),"isNumerical");Se.isNumerical=hi});var sr=m(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.splitByAlphanumericTransitions=void 0;var ir=at();function bi(t){let e=[],r=a(()=>e[e.length-1],"lastChar"),n=a(s=>e[e.length-1]+=s,"addChar"),i=a(s=>e.push(s),"addNextWord");for(let s of t.split("")){let o=r();if(o===void 0){i(s);continue}if((0,ir.isNumerical)(s)===(0,ir.isNumerical)(o)){n(s);continue}i(s)}return e}a(bi,"splitByAlphanumericTransitions");Ee.splitByAlphanumericTransitions=bi});var ur=m(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.compareStrings=void 0;var or=at(),ar=sr();function oe(t,e){if(t===e)return 0;let r=t.length>e.length?e:t;for(let n of Array.from({length:r.length},(i,s)=>s)){let i=t.charCodeAt(n),s=e.charCodeAt(n);if(i<s)return-1;if(i>s)return 1}return t.length>e.length?1:-1}a(oe,"compare");function cr(t,e){if(t===e)return 0;let r=(0,ar.splitByAlphanumericTransitions)(t),n=(0,ar.splitByAlphanumericTransitions)(e),i=r.length>n.length?n:r;for(let s of Array.from({length:i.length},(o,c)=>c)){let o=r[s],c=n[s],l=(0,or.isNumerical)(o),p=(0,or.isNumerical)(c);if(l&&!p)return-1;if(!l&&p)return 1;if(l&&p){let d=Number(o),f=Number(c);if(d<f)return-1;if(d>f)return 1}if(!l&&!p){let d=oe(o,c);if(d!==0)return d}}return 0}a(cr,"compareWithNumbers");function yi(t,e){var r,n;if(typeof t=="string"&&typeof e=="string")return oe(t,e);if(typeof t=="object"&&t!==null){let i=(r=t.numCompare)!==null&&r!==void 0?r:!1,s=(n=t.reverse)!==null&&n!==void 0?n:!1;return i?(o,c)=>s?lr[cr(o,c)]:cr(o,c):(o,c)=>s?lr[oe(o,c)]:oe(o,c)}return oe}a(yi,"compareStrings");Pe.compareStrings=yi;var lr={"-1":1,0:0,1:-1}});var pr=m(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.isArgName=void 0;function wi(t){return t[0]==="-"}a(wi,"isArgName");Ae.isArgName=wi});var dr=m(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.parseArgumentValue=void 0;function Ci(t){return t==="true"?!0:t==="false"?!1:t}a(Ci,"parseArgumentValue");je.parseArgumentValue=Ci});var ct=m(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Arguments=void 0;var fr=pr(),vi=dr(),Re=class{constructor(){this.subCommands=[],this.arguments=new Map;let e=process.argv.slice(2);this.init(e)}init(e){for(;e.length!==0;){let r=e.shift();if((0,fr.isArgName)(r))if(e[0]&&!(0,fr.isArgName)(e[0])){let n=e.shift();this.arguments.set(r,(0,vi.parseArgumentValue)(n))}else this.arguments.set(r,!0);else this.subCommands.push(r)}Object.freeze(this.arguments),Object.freeze(this.subCommands)}isArgumentSet(e){return this.arguments.has(e.keyword)||this.arguments.has(e.flagChar)}getArgument(e){if(this.arguments.has(e.keyword))return this.arguments.get(e.keyword);if(this.arguments.has(e.flagChar))return this.arguments.get(e.flagChar);if(e.default!==void 0)return e.default}getSubCommandsPath(){return[...this.subCommands]}};a(Re,"ArgumentParser");Fe.Arguments=new Re});var lt=m(J=>{"use strict";var _i=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J,"__esModule",{value:!0});J.Argument=void 0;var Le=_i(Me()),ki=ur(),gr=ct(),xi=/^[+-]?([0-9]*[.])?[0-9]+$/,C=class{static hasMultipleArgumentsWithKeywordOrFlag(e,r){return C.initiatedArguments.filter(n=>n.context.keyword===e||n.context.flagChar===r).length>1}static startCommandInitialization(){C._isCommandInitializing=!0}static endCommandInitialization(){C._isCommandInitializing=!1}static isCommandInitializing(){return C._isCommandInitializing}static getArgumentsInfo(){return C.initiatedArguments.sort((e,r)=>(0,ki.compareStrings)({numCompare:!0})(e.context.flagChar,r.context.flagChar)).map(e=>{var r;return{flagChar:e.context.flagChar,keyword:e.context.keyword,description:(r=e.context.description)!==null&&r!==void 0?r:"",category:e.context.category}})}static validateArguments(){for(let e of C.initiatedArguments)e.validate()}static define(e){class r extends C{constructor(){super(),C.initiatedArguments.push(this)}init(){return e}}return a(r,"Arg"),r}constructor(){C.isCommandInitializing()||this.throwInternalError("Arguments must be initialized within the Command init callback."),this.context=this.init(),this._value=this.getArgumentValue(),this._isSet=gr.Arguments.isArgumentSet(this.context)}ensureDataType(e){if(!this.context.require&&e===void 0)return e;switch(this.context.dataType){case"boolean":if(typeof e=="boolean")return e;if(e==="0"||e===0)return!1;if(e==="1"||e===1)return!0;this.throwArgumentError('Argument value is not of expected type (boolean). Try one of the following: "true", "false", 0 or 1');break;case"number":if(typeof e=="number")return e;if(typeof e=="string"&&xi.test(e))return Number(e);this.throwArgumentError("Argument value is not of expected type (number). Try putting in a number value to this argument like: 0, 1, 123, 1.2 or .678");break;case"string":if(typeof e=="string")return e;this.throwArgumentError("Argument value is not of expected type (string).");break;default:return e}}validate(){let e=/^--[a-zA-Z]+(-[a-zA-Z]+)*$/,r=/^-[a-zA-Z]+$/;e.test(this.context.keyword)||this.throwInternalError(`Incorrect Argument definition: invalid keyword (${this.context.keyword})`),r.test(this.context.flagChar)||this.throwInternalError(`Incorrect Argument definition: invalid flag character (${this.context.flagChar})`),C.hasMultipleArgumentsWithKeywordOrFlag(this.context.keyword,this.context.flagChar)&&this.throwInternalError("Duplicate argument instances declared within a Command."),this.context.require&&this.value===void 0&&this.throwArgumentError("Argument must be specified."),this._value=this.ensureDataType(this.value)}getName(){return this.context.displayName||this.context.keyword}getArgumentValue(){return gr.Arguments.getArgument(this.context)}throwArgumentError(e){let r=this.getName();throw new Error(`${Le.default.red("Argument Error")} [${Le.default.yellow(r)}]: ${e}`)}throwInternalError(e){let r=this.getName();throw new Error(`${Le.default.red("Argument Error")} [${Le.default.yellow(r)}]: ${e}`)}get value(){return this._value}get isSet(){return this._isSet}setDefault(e){this.context.default=e,this._value=this.getArgumentValue()}};a(C,"Argument");C._isCommandInitializing=!1;C.initiatedArguments=[];J.Argument=C});var mr=m(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.groupByCategory=void 0;function Oi(t){var e;let r=[],n=new Set([""]);for(let i of t)n.add((e=i.category)!==null&&e!==void 0?e:"");for(let i of n)r.push([i,t.filter(s=>{var o;return i===((o=s.category)!==null&&o!==void 0?o:"")})]);return r}a(Oi,"groupByCategory");De.groupByCategory=Oi});var ut=m($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.countChar=void 0;var Ii=a((t,e)=>{let r=0;for(let n of t)n===e&&r++;return r},"countChar");$e.countChar=Ii});var hr=m(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.padBottom=void 0;var Ni=ut(),Ti=a((t,e)=>{let r=(0,Ni.countChar)(t,`
`)+1,n=Math.max(0,e-r);return`${t}${Array.from({length:n},()=>`
`).join("")}`},"padBottom");Ge.padBottom=Ti});var br=m(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.padLeft=void 0;function Mi(t,e){return e.paddingLength!==void 0&&(e.paddingLength=Math.max(0,e.paddingLength)),e.targetWidth!==void 0&&(e.targetWidth=Math.max(0,e.targetWidth)),t.split(`
`).map(i=>{var s;let o=(s=e.paddingLength)!==null&&s!==void 0?s:0;if(e.targetWidth!==void 0){if(e.targetWidth<=i.length)return i.slice(0,e.targetWidth);o=e.targetWidth-i.length}return`${Array.from({length:o},()=>" ").join("")}${i}`}).join(`
`)}a(Mi,"padLeft");Be.padLeft=Mi});var yr=m(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.padRight=void 0;function Si(t,e){return e.paddingLength!==void 0&&(e.paddingLength=Math.max(0,e.paddingLength)),e.targetWidth!==void 0&&(e.targetWidth=Math.max(0,e.targetWidth)),t.split(`
`).map(i=>{var s;let o=(s=e.paddingLength)!==null&&s!==void 0?s:0;if(e.targetWidth!==void 0){if(e.targetWidth<=i.length)return i.slice(0,e.targetWidth);o=e.targetWidth-i.length}return`${i}${Array.from({length:o},()=>" ").join("")}`}).join(`
`)}a(Si,"padRight");qe.padRight=Si});var wr=m(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.splitToNLengthChunks=void 0;function Ei(t,e){let r=t.split(""),n=[];for(;;){let i=r.splice(0,e);if(i.length===0)break;n.push(i.join(""))}return n}a(Ei,"splitToNLengthChunks");ze.splitToNLengthChunks=Ei});var Cr=m(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.stringListLength=void 0;function Pi(t){return t.reduce((e,r)=>e+Math.max(0,...r.split(`
`).map(n=>n.length)),0)}a(Pi,"stringListLength");We.stringListLength=Pi});var _r=m(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.printLists=V.removeColumnsNotFittingTheScreen=void 0;var Ai=ut(),ji=hr(),vr=br(),Ri=yr(),Fi=wr(),pt=Cr();function dt(t,e){t=[...t];let r=t.slice(0,-1);return(0,pt.stringListLength)(r)>=e?dt(r,e):t}a(dt,"removeColumnsNotFittingTheScreen");V.removeColumnsNotFittingTheScreen=dt;function Li(t,e=!1){let r=e?2:0,n=t.reduce((o,c)=>Math.max(o,c.length),0),i=Array.from({length:n}).map((o,c)=>t.reduce((p,d)=>{let f=d[c];if(f){let O=f.split(`
`).map(N=>N.length);return Math.max(p,...O)}return p},0)+2),s=process.stdout.columns;for(let o of t){let c=Math.max(1,...o.map(d=>(0,Ai.countChar)(d,`
`)+1)),p=o.map((d,f,S)=>{let O=i[f],N=(0,vr.padLeft)((0,ji.padBottom)(d,c),{paddingLength:r});return f===S.length-1?N:(0,Ri.padRight)(N,{targetWidth:O})}).reduce((d,f)=>{let S=f.split(`
`);for(let O=0;O<S.length;O++)d[O]||(d[O]=[]),d[O].push(S[O]);return d},[]);for(let d of p){let f=dt(d,s);if(f.length===0)return;if((0,pt.stringListLength)(f)>s){let S=f.splice(-1)[0],O=(0,pt.stringListLength)(f)+r,N=s-O,[Rn,...Fn]=(0,Fi.splitToNLengthChunks)(S,N);f.push(Rn),console.log(f.join(""));for(let Ln of Fn){let Dn=(0,vr.padLeft)(Ln,{paddingLength:O});console.log(Dn)}}else console.log(f.join(""))}}}a(Li,"printLists");V.printLists=Li});var ft=m(Y=>{"use strict";var Di=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y,"__esModule",{value:!0});Y.Command=void 0;var $i=Di(Me()),ce=lt(),Gi=mr(),ae=_r(),Bi=ce.Argument.define({flagChar:"-h",keyword:"--help",dataType:"boolean",displayName:"help",description:"Show this help message."}),A=class{constructor(){this.childCommands=[],this.implementation=void 0,this.initialize=void 0,this.description="",this.shortDescription="",this.name=""}static initHelpArg(){A.helpArgument||(A.helpArgument=new Bi)}setImplementation(e){this.implementation=e}runInitialize(){ce.Argument.startCommandInitialization();try{if(A.initHelpArg(),this.initialize&&!this.implementation){let e=this.initialize();this.setImplementation(e),e.commandDescription&&(this.description=e.commandDescription),e.shortDescription&&(this.shortDescription=e.shortDescription),e.displayName&&(this.name=e.displayName)}}finally{ce.Argument.endCommandInitialization()}}define(e){this.initialize=e}execute(){var e;if(this.runInitialize(),!((e=A.helpArgument)===null||e===void 0)&&e.isSet&&A.helpArgument.value===!0)return this.printHelpMessage();if(ce.Argument.validateArguments(),this.implementation)return this.implementation.run()}addChildCommand(e){if(this.findChildCommand(e.keyword))throw new Error(`${$i.default.red("Internal Error:")} There cannot be multiple commands with the same keyword.`);this.childCommands.push(e)}findChildCommand(e){return this.childCommands.find(r=>r.keyword===e)}getName(){return this.name}printHelpMessage(){let e=(0,Gi.groupByCategory)(ce.Argument.getArgumentsInfo()),r=this.getName();this.description?(0,ae.printLists)([[`${r}:`,this.description]]):this.shortDescription?(0,ae.printLists)([[`${r}:`,this.shortDescription]]):(0,ae.printLists)([[`${r}:`]]),this.childCommands.length>0&&(console.log(`
Commands:`),(0,ae.printLists)(this.childCommands.map(n=>n.getPrintableList()),!0)),console.log(`
Arguments:`);for(let[n,i]of e)n.length>0&&console.log(`
${n}:`),(0,ae.printLists)(i.map(s=>[s.flagChar,s.keyword,s.description]),!0)}setDescription(e){this.description=e}setDisplayName(e){this.name=e}};a(A,"Command");Y.Command=A});var gt=m(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.defaultInitializer=void 0;function qi(){let t=this;return{run(){t.printHelpMessage()}}}a(qi,"defaultInitializer");Ue.defaultInitializer=qi});var kr=m(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.SubCommand=void 0;var zi=ft(),Wi=gt(),K=class extends zi.Command{constructor(e,r){super(),this.define(r),this.keyword=e}getPrintableList(){return this.runInitialize(),[this.keyword,this.shortDescription]}getName(){return this.name||this.keyword}addSubCommand(e,r=Wi.defaultInitializer){let n=new K(e,r);return this.addChildCommand(n),n}};a(K,"SubCommand");He.SubCommand=K});var Or=m(Q=>{"use strict";var Ui=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q,"__esModule",{value:!0});Q.MainCommand=void 0;var Hi=Ui(require("path")),Ji=ct(),Vi=ft(),xr=gt(),Yi=kr(),X=class extends Vi.Command{static init(){return new X}constructor(){super();let e=process.argv[1];this.name=Hi.default.parse(e).name,this.define(xr.defaultInitializer)}start(){let e=Ji.Arguments.getSubCommandsPath();if(e.length===0)return this.execute();let r=this;for(;!(e.length===0||!r);){let n=e.shift();r=r.findChildCommand(n)}if(r)return r.execute()}setMainAction(e){this.define(e)}addSubCommand(e,r=xr.defaultInitializer){let n=new Yi.SubCommand(e,r);return this.addChildCommand(n),n}};a(X,"MainCommand");Q.MainCommand=X});var ht=m(E=>{"use strict";var Ki=E&&E.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(E,"__esModule",{value:!0});E.MainCommand=E.Argument=E.configure=void 0;var Xi=Ki(Me()),Nr=lt();Object.defineProperty(E,"Argument",{enumerable:!0,get:function(){return Nr.Argument}});var mt=Or();Object.defineProperty(E,"MainCommand",{enumerable:!0,get:function(){return mt.MainCommand}});var Ir=mt.MainCommand.init();function Tr(t){try{t(Ir),Ir.start()}catch(e){console.error(Xi.default.redBright("An error occurred when running this script.")),e instanceof Error&&console.error(e.message)}}a(Tr,"configure");E.configure=Tr;E.default={configure:Tr,Argument:Nr.Argument,MainCommand:mt.MainCommand}});var jn=b(ht());var Z=b(ht()),Mr=Z.Argument.define({flagChar:"-p",keyword:"--package-manager",dataType:"string",default:"yarn",require:!0,description:"Package manager used to install dependencies. (yarn or npm)"}),Sr=Z.Argument.define({flagChar:"-n",keyword:"--name",dataType:"string",require:!0,description:"The name of the project."}),Er=Z.Argument.define({flagChar:"-o",keyword:"--output-dir",dataType:"string",description:"Path to the directory in which the Project should be located."}),Pr=Z.Argument.define({flagChar:"-a",keyword:"--author",dataType:"string",description:"Name of the author."}),Ar=Z.Argument.define({flagChar:"-m",keyword:"--modules",dataType:"string",description:"Comma separated list of modules. Currently available modules: jest, gest, yarn3, esbuild, nodepack, build-tsc"});var ne=b(require("fs/promises")),Ce=b(require("path"));var Qi=Object.defineProperty,Zi=a((t,e,r)=>e in t?Qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),es=a((t,e,r)=>(Zi(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),le=a(class{static parseRgbArgs(t){if(t.length===1){let e=t[0];if(typeof e=="string"){if(e.startsWith("rgb(")){let r=e.slice(4,-1).split(",");return{r:Number(r[0]),g:Number(r[1]),b:Number(r[2])}}else if(e.startsWith("#")){let r=e.slice(1).split("");return{r:parseInt(r[0]+r[1],16),g:parseInt(r[2]+r[3],16),b:parseInt(r[4]+r[5],16)}}}else if(typeof e=="object")return e}else if(t.length===3)return{r:t[0],g:t[1],b:t[2]};throw new Error("Invalid rgb arguments")}static get(t){return t in this.predefinedColors?this.predefinedColors[t]:this.rgb(t)}static define(t,...e){if(t in this.predefinedColors)throw new Error(`Color ${t} is already defined.`);Object.assign(this.predefinedColors,{[t]:this.rgb(...e)})}static rgb(...t){return""}},"TermxColors");es(le,"predefinedColors",{});var ts=Object.defineProperty,rs=a((t,e,r)=>e in t?ts(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),ns=a((t,e,r)=>(rs(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),_="\x1B",Je=a(class extends le{static rgb(...t){let e=this.parseRgbArgs(t);return`${_}[48;2;${e.r};${e.g};${e.b}m`}},"TermxBgColor");ns(Je,"predefinedColors",{unset:`${_}[0m`,red:`${_}[41m`,green:`${_}[42m`,yellow:`${_}[43m`,blue:`${_}[44m`,magenta:`${_}[45m`,cyan:`${_}[46m`,white:`${_}[47m`,lightRed:`${_}[101m`,lightGreen:`${_}[102m`,lightYellow:`${_}[103m`,lightBlue:`${_}[104m`,lightMagenta:`${_}[105m`,lightCyan:`${_}[106m`,lightWhite:`${_}[107m`});var is=Object.defineProperty,ss=a((t,e,r)=>e in t?is(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),os=a((t,e,r)=>(ss(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),k="\x1B",I=a(class extends le{static rgb(...t){let e=this.parseRgbArgs(t);return`${k}[38;2;${e.r};${e.g};${e.b}m`}},"TermxFontColor");os(I,"predefinedColors",{unset:`${k}[0m`,red:`${k}[31m`,green:`${k}[32m`,yellow:`${k}[33m`,blue:`${k}[34m`,magenta:`${k}[35m`,cyan:`${k}[36m`,white:`${k}[37m`,lightRed:`${k}[91m`,lightGreen:`${k}[92m`,lightYellow:`${k}[93m`,lightBlue:`${k}[94m`,lightMagenta:`${k}[95m`,lightCyan:`${k}[96m`,lightWhite:`${k}[97m`});function P(...t){let e=t[0],r="",n=0,i=0;for(r=e[0],n=1,i=t.length;n<i;n++)typeof t[n]=="object"&&t[n]!==null&&t[n].name==="RawHtml"?r+=t[n].toString()+e[n]:r+=as(t[n].toString())+e[n];return r}a(P,"html");function as(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}a(as,"sanitizeHtml");function jr(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}a(jr,"desanitizeHtml");var L=a(class extends Error{constructor(t,e,r){super("Invalid Markup. "+r),this.parsedMarkup=t,this.position=e}getPositionCords(){let t=0,e=0;for(let r=0;r<this.position;r++)this.parsedMarkup[r]===`
`?(t++,e=0):e++;return[t,e]}getStack(){return this.stack??""}getPositionPatch(){let[t,e]=this.getPositionCords(),r=this.parsedMarkup.split(`
`),n=r[t],i=" ".repeat(e)+"^",s="";return t>1&&(s+=r[t-2]+`
`),t>0&&(s+=r[t-1]+`
`),s+=n+`
`+i,s}toString(){return`${this.message}

${this.getPositionPatch()}

${this.getStack()}`}},"MarkupParserError"),Fr=a(class{constructor(t){R(this,"o",{textNode:!1,tag:"",attributes:[],content:[]});R(this,"content",[]);R(this,"lastStringContent","");this.parent=t}addChild(){this.lastStringContent.length&&(this.content.push(this.lastStringContent),this.lastStringContent="");let t=new Fr(this);return this.content.push(t),t}addChar(t){this.lastStringContent+=t}serialize(){for(let t=0;t<this.content.length;t++){let e=this.content[t];typeof e=="string"?this.o.content.push(e):this.o.content.push(e.serialize())}return this.lastStringContent.length&&this.o.content.push(this.lastStringContent),this.o}},"MarkupNodeBuilder"),cs=a(class{constructor(){R(this,"node",new Fr);this.node.o.textNode=!0}addChildNode(){this.node=this.node.addChild()}moveUp(){this.node=this.node.parent}isTopLevel(){return this.node.parent===void 0}serialize(){return this.node.content.length===1&&this.node.o.tag===""&&typeof this.node.content[0]!="string"?this.node.content[0].serialize():this.node.serialize()}},"MarkupBuilder"),Lr=1,Dr=2,$r=4,yt=8,Gr=16,wt=32,ee=~Lr,Ve=~Dr,ls=~$r,Rr=~yt,us=~Gr,bt=~wt;function Ct(t){let e=new cs,r="",n="",i="",s=0;for(let o=0;o<t.length;o++){let c=t[o];switch(s){case 0:{switch(c){case"<":{s=s|Lr,t[o+1]==="/"?(s=s|Gr,o++):e.addChildNode();continue}case"\\":{s=s|yt;continue}}e.node.addChar(c);break}case 8:{e.node.addChar(c),s=s&Rr;break}case 1:{switch(c){case`
`:{e.node.o.tag.length>0&&(s=s|wt);continue}case" ":{e.node.o.tag.length>0&&(s=s|wt);continue}case">":{if(e.node.o.tag.length===0)throw new L(t,o,"No tag name found.");s=s&ee;continue}case"/":{if(t[o+1]===">")s=s&ee,o++,e.moveUp();else throw new L(t,o,"Invalid character encountered.");continue}case"=":throw new L(t,o-e.node.o.tag.length,"No tag name found.")}e.node.o.tag+=c;break}case 33:{switch(c){case`
`:continue;case" ":continue;case">":{s=s&ee&bt;continue}case"/":{if(t[o+1]===">")s=s&ee&bt,o++,e.moveUp();else throw new L(t,o,"Invalid character encountered.");continue}case"=":throw new L(t,o,"Invalid character encountered.")}s=s|Dr,r+=c;break}case 17:{switch(c){case`
`:continue;case" ":continue;case">":{if(s=s&ee&us,i!==e.node.o.tag)throw new L(t,o,`Closing tag does not match opening tag, expected '${e.node.o.tag}' but found '${i}'.`);i="",e.moveUp();continue}}i+=c;break}case 35:{switch(c){case"=":{if(s=s&Ve,t[o+1]==='"')s=s|$r,o+=1;else throw new L(t,o+1,"Attribute values must be enclosed in double quotes.");continue}case`
`:{s=s&Ve,e.node.o.attributes.push([r,!0]),r="";continue}case" ":{s=s&Ve,e.node.o.attributes.push([r,!0]),r="";continue}case">":{s=s&ee&Ve&bt,e.node.o.attributes.push([r,!0]),r="";continue}}r+=c;break}case 37:{switch(c){case'"':{s=s&ls,e.node.o.attributes.push([r,n]),r="",n="";continue}case"\\":{s=s|yt;continue}}n+=c;break}case 45:{n+=c,s=s&Rr;break}}}if(!e.isTopLevel())throw new L(t,t.length-1,`Closing tag is missing. Expected a close tag for '${e.node.o.tag}' before the end of the document.`);return e.serialize()}a(Ct,"parseMarkup");var Ye=a((t,e,r=" ")=>{r=r[0]??" ";let n=r.repeat(e);return t.split(`
`).map(s=>`${n}${s}`).join(`
`)},"leftPad");var ps=Object.defineProperty,ds=a((t,e,r)=>e in t?ps(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Br=a((t,e,r)=>(ds(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),qr=a(class{static get currentScope(){return this._currentScope}static enterScope(t){let e=t;this.scopeStack.push(e),this._currentScope=e}static exitScope(){this.scopeStack.pop(),this._currentScope=this.scopeStack[this.scopeStack.length-1]??{}}static traverseUp(t){for(let e=this.scopeStack.length-1;e>=0;e--)t(this.scopeStack[e])}},"_ScopeTracker"),v=qr;Br(v,"scopeStack",[{tag:""}]);Br(v,"_currentScope",qr.scopeStack[0]);var G="\x1B",fs=`${G}[1m`,gs=`${G}[2m`,ms=`${G}[3m`,hs=`${G}[4m`,bs=`${G}[5m`,ys=`${G}[7m`,ws=`${G}[9m`,_t=a(class{static defineColor(t,...e){Je.define(t,...e),I.define(t,...e)}static format(t){let e=Ct(t);return I.get("unset")+jr(this.formatMarkup(e))}static formatMarkup(t){let e="";switch(t.tag){case"li":case"pre":case"line":case"span":return v.enterScope(this.createScope(t)),e+=this.scopeToAnsi(v.currentScope)+this.join(t.content.map(r=>this.mapContents(r,t.tag==="pre"))),v.exitScope(),e+=I.get("unset"),t.tag==="line"&&(e+=`
`),e+=this.scopeToAnsi(v.currentScope),e;case"ol":case"ul":{let r=this.getListElementPrefix(t),n=this.getListPadding();return v.enterScope(this.createScope(t)),e+=this.scopeToAnsi(v.currentScope)+this.join(t.content.filter(i=>typeof i!="string"||i.trim().length).map((i,s)=>{if(typeof i=="string"||i.tag!=="li")throw new Error(`Invalid element inside <${t.tag}>. Each child of <${t.tag}> must be a <li> element.`);let{contentPad:o,firstLineOffset:c}=this.getContentPad(t,s+1),l=r(s)+Ye(this.mapContents(i),o).substring(c);return Ye(l,n)+`
`})),v.exitScope(),e+=I.get("unset")+this.scopeToAnsi(v.currentScope),e}case"pad":{v.enterScope(this.createScope(t));let r=this.getAttribute(t,"size")??0,n=this.scopeToAnsi(v.currentScope)+this.join(t.content.map(i=>this.mapContents(i)));return e+=Ye(n,Number(r)),v.exitScope(),e+=I.get("unset")+this.scopeToAnsi(v.currentScope),e}case"br":return e+`
`;case"s":return e+" ";case"":return e+=this.join(t.content.map(r=>this.mapContents(r))),e}throw new Error(`Invalid tag: <${t.tag}>`)}static join(t){let e="";for(let r=0;r<t.length;r++)e+=t[r];return e}static getAttribute(t,e){for(let[r,n]of t.attributes)if(r===e)return vt(n,"string")}static mapContents(t,e){return typeof t=="string"?e?t:t.replaceAll(`
`,"").trim():this.formatMarkup(t)}static getListPadding(){let t=0;return v.traverseUp(e=>{(e.tag==="ol"||e.tag==="ul")&&(t+=1)}),t===0?0:(t-1)*2}static getContentPad(t,e){if(t.tag==="ul")return{contentPad:2,firstLineOffset:2};let r=t.content.length.toString().length,n=t.content.length.toString().length+2;return{contentPad:n,firstLineOffset:n-(r-e.toString().length)}}static getListElementPrefix(t){if(t.tag==="ol")return n=>`${n+1}. `;let e=this.getAttribute(t,"type")??"bullet",r=(()=>{switch(e){case"bullet":return String.fromCharCode(9679);case"circle":return String.fromCharCode(9675);case"square":return String.fromCharCode(9633);default:throw new Error(`Invalid list type: ${e}`)}})();return()=>`${r} `}static scopeToAnsi(t){let e="";return t.noInherit&&(e+=I.get("unset")),t.color&&(e+=I.get(t.color)),t.bg&&(e+=Je.get(t.bg)),t.bold&&(e+=fs),t.dimmed&&(e+=gs),t.italic&&(e+=ms),t.underscore&&(e+=hs),t.blink&&(e+=bs),t.inverted&&(e+=ys),t.strikethrough&&(e+=ws),e}static createScope(t){let r=t.attributes.some(([n,i])=>n==="no-inherit"&&(i===!0||i==="true"))?{noInherit:!0}:{...v.currentScope,noInherit:!1};t.tag&&(r.tag=t.tag);for(let[n,i]of t.attributes)switch(n){case"color":r.color=vt(i,"string");break;case"bg":r.bg=vt(i,"string");break;case"bold":r.bold=i===!0||i==="true";break;case"dim":r.dimmed=i===!0||i==="true";break;case"italic":r.italic=i===!0||i==="true";break;case"underscore":r.underscore=i===!0||i==="true";break;case"blink":r.blink=i===!0||i==="true";break;case"invert":r.inverted=i===!0||i==="true";break;case"strike":r.strikethrough=i===!0||i==="true";break}return r}},"MarkupFormatter");function vt(t,e){if(typeof t===e)return t;throw new Error(`Invalid attribute type: ${typeof t} (expected ${e})`)}a(vt,"as");var Cs=Object.defineProperty,vs=a((t,e,r)=>e in t?Cs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),kt=a((t,e,r)=>(vs(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),D=a(class{constructor(t){R(this,"_printFn");if(t)this._printFn=t;else if(D.defaultPrintFn)this._printFn=D.defaultPrintFn;else if(typeof print=="function")this._printFn=print;else if(typeof console<"u"&&console.log)this._printFn=e=>console.log(e);else throw new Error("Unable to detect print function for current environment.")}static print(...t){D.globalOutput.print(...t)}static println(...t){D.globalOutput.println(...t)}static setDefaultPrintMethod(t){D.defaultPrintFn=t,D.globalOutput=new D(t)}printError(t){t!=null&&(this._printFn(t.toString()+`
`),typeof t=="object"&&t.stack&&this._printFn(t.stack+`
`))}parseMarkupLines(t){let e=[];for(let r of t)e.push(_t.format(r));return e}print(...t){try{let e=this.parseMarkupLines(t);for(let r of e)this._printFn(r)}catch(e){this._printFn(I.get("red")+"Failed to format/print given markup."+I.get("unset")+`
`),this.printError(e)}}println(...t){try{let e=this.parseMarkupLines(t);for(let r of e)this._printFn(r+`
`)}catch(e){this._printFn(I.get("red")+"Failed to format/print given markup."+I.get("unset")+`
`),this.printError(e)}}},"_Output"),x=D;kt(x,"defaultPrintFn");kt(x,"globalOutput");try{x.globalOutput=new x}catch{}var Ke=a(class{constructor(t=x){R(this,"buffer",[]);this.output=t}static print(t){Ke.globalOutputBuffer.print(t)}static println(t){Ke.globalOutputBuffer.println(t)}print(...t){this.buffer.push(...t.map(e=>({type:"print",markup:e})))}println(...t){this.buffer.push(...t.map(e=>({type:"println",markup:e})))}flush(){for(let{type:t,markup:e}of this.buffer)switch(t){case"print":this.output.print(e);break;case"println":this.output.println(e);break}this.buffer=[]}pipe(t){return this.buffer.length===0||(t.buffer.push(...this.buffer),this.buffer=[]),t}pipeReverse(t){return t.buffer.length===0?this:(this.buffer.push(...t.buffer),t.buffer=[],this)}},"_OutputBuffer"),zr=Ke;kt(zr,"globalOutputBuffer",new Ke);var Wr=b(require("child_process")),Ur=b(require("fs/promises")),Hr=b(require("path"));var $=a(t=>t.map(e=>e.replace(/\s/g,"\\ ")).join(" "),"parseArgs");var M,Jr=(a(M=class{static getName(){return"npm"}static execute(e){return new Promise((r,n)=>{Wr.default.exec(e,{cwd:M.cwd},i=>i?n(i):r())})}static async init(){}static async changeVersion(){}static async getVersion(){return""}static setCwd(e){M.cwd=e}static install(e){let r=["npm","install"];return r.push(e),M.execute($(r))}static installDev(e){let r=["npm","install","-D"];return r.push(e),M.execute($(r))}static async run(e,...r){return M.execute(await M.generateCommand(e,...r))}static async generateCommand(e,...r){let n=Hr.default.resolve(M.cwd,"package.json"),i=[];try{let s=await Ur.default.readFile(n,{encoding:"utf-8"}),o=JSON.parse(s);i.push(...Object.keys(o.scripts))}catch{}if(i.includes(e)){let s=["npm","run",e];return r.length>0&&(s.push("--"),s.push(...r)),$(s)}return $(["npx",e,...r])}},"Npm"),M.cwd=process.cwd(),M);var Vr=b(require("child_process"));var w,Yr=(a(w=class{static getName(){return"yarn"}static async execute(e){return new Promise((r,n)=>{Vr.default.exec(e,{cwd:w.cwd},(i,s)=>i?n(i):r(s))})}static async getVersion(){return w.version?w.version:(this.version=await w.run("-v"),this.version)}static async changeVersion(e){await w.run("set","version",e),this.version=void 0,await w.getVersion()}static setCwd(e){w.cwd=e}static async init(){if((await w.getVersion()).startsWith("3"))return w.run("init")}static install(e){let r=[];return r.push(e),w.run("add",...r)}static installDev(e){let r=["-D"];return r.push(e),w.run("add",...r)}static async run(e,...r){return w.execute(await w.generateCommand(e,...r))}static async generateCommand(e,...r){return["yarn",e,...r].map(n=>n.replace(" ","\\ ")).join(" ")}},"Yarn"),w.cwd=process.cwd(),w);var Kr=a(t=>{if(t==="yarn")return Yr;if(t==="npm")return Jr;console.error(`Invalid package manager argument: (${t})`),process.exit(1)},"getPackageManager");var Xr=b(require("child_process"));var B=class{static async execute(e){await new Promise((r,n)=>{Xr.default.exec(e,{cwd:B.cwd},i=>i?n(i):r())})}static setCwd(e){B.cwd=e}static init(e){return B.setCwd(e),B.execute($(["git","init"]))}static add(...e){e.length===0&&e.push("."),B.execute($(["git","add",...e]))}},q=B;a(q,"Git"),q.cwd=process.cwd();var g=class{constructor(e,r={}){this.name=e;this.options=r;var n,i;(n=this.options).register??(n.register="npm"),(i=this.options).version??(i.version="latest")}static setPackageManagerType(e,r=""){this.pmType=e,this.pmVersion=r}getNameForNpmRegister(){return!this.options.version||this.options.version==="latest"?this.name:`${this.name}@${this.options.version}`}getNameForGithubRegister(){return g.pmType==="yarn"&&g.pmVersion.startsWith("3")?`${this.name}@${this.options.user}/${this.name}`:`${this.options.user}/${this.name}`}getFriendlyName(){return this.options.version==="latest"?this.name:`${this.name} v${this.options.version}`}getInstallName(){return this.options.register==="github"?this.getNameForGithubRegister():this.getNameForNpmRegister()}};a(g,"Dependency");var Qr=b(require("fs/promises")),Zr=b(require("path"));var en=a(async(t,e)=>{x.print(P`
      <span color="lightGreen">Generating:</span>
      <pre> config files</pre>
    `);let r=e.getConfigFiles().map(async n=>{await Qr.default.writeFile(Zr.default.resolve(t,n.filepath),n.content)});return Promise.all(r)},"createConfigFiles");var Sn=b(require("path"));var rn=b(require("fs/promises")),nn=b(require("path"));var h=class{constructor(e,r,n="."){this.getContent=e;this.filename=r;this.location=n}getAsString(e){let r=this.getContent(e);return typeof r=="string"?r:JSON.stringify(r,null,2)}};a(h,"ConfigFile");var j=a((...t)=>{let e=t[0],r="",n=0,i=0;for(r=e[0],n=1,i=t.length;n<i;n++)r+=String(t[n])+e[n];return r.trim()+`
`},"js");var tn=j`
import esbuild from "esbuild";
import path from "node:path";
import { fileURLToPath } from "url";

const __dirname = path.dirname(fileURLToPath(import.meta.url));
const p = (...fpath) => path.resolve(__dirname, "..", ...fpath);

const isDev = process.argv.includes("--dev");
const watch = process.argv.includes("--watch");

async function main() {
  /** 
   * @type {import("esbuild").BuildOptions} 
   */
  const bldOptions = {
    tsconfig: p("tsconfig.json"),
    entryPoints: [p("src/index.ts")],
    outdir: p("dist"),
    bundle: true,
    keepNames: true,
    treeShaking: !isDev,
    minify: !isDev,
  }

  if (watch) {
    const buildCtx = await esbuild.context(bldOptions);
    await buildCtx.watch();
  } else {
    await esbuild.build(bldOptions);
  }
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});
`;var ue=class{getName(){return"esbuild"}async beforeStart(e){let r=nn.default.resolve(e.projectDir,"scripts");await rn.default.mkdir(r)}getDevDependencies(){return[new g("esbuild")]}getConfigFiles(){return[new h(()=>tn,"build.mjs","scripts")]}packageJsonMiddleware(e){return e.addScript("build","node ./scripts/build.mjs"),e}};a(ue,"EsbuildModule");var te=a(t=>typeof t=="object"&&t!==null,"isRecord");var sn=["/__mocks__","/__tests__","/.vscode","/coverage","/dist","/node_modules","/tests","/.eslintignore","/.eslintrc.json","/.gitignore","/.prettierrc.json","/jest.config.js","/package-lock.json","/tsconfig.json","/webpack.config.js","/yarn-error.log","/yarn.lock","/*.js","/*.mjs","/*.cjs","/scripts"].join(`
`);var on={plugins:["@typescript-eslint"],env:{browser:!0,es2021:!0},extends:["prettier","eslint:recommended","plugin:@typescript-eslint/eslint-recommended","plugin:@typescript-eslint/recommended"],parser:"@typescript-eslint/parser",parserOptions:{project:"./tsconfig.json",sourceType:"module"},rules:{"max-len":["error",70,4,{ignoreUrls:!0,ignoreStrings:!0,ignoreRegExpLiterals:!0,ignoreTemplateLiterals:!0}],"linebreak-style":["error","unix"],quotes:["error","double",{avoidEscape:!0}],semi:["error","always"],"@typescript-eslint/consistent-type-imports":"error","@typescript-eslint/consistent-type-exports":"error","@typescript-eslint/member-delimiter-style":"error","@typescript-eslint/no-confusing-non-null-assertion":"error","@typescript-eslint/no-misused-new":"error","@typescript-eslint/no-require-imports":"error","@typescript-eslint/restrict-plus-operands":"error","@typescript-eslint/switch-exhaustiveness-check":"error","@typescript-eslint/no-base-to-string":"error","@typescript-eslint/prefer-nullish-coalescing":"warn","@typescript-eslint/require-array-sort-compare":"warn","@typescript-eslint/no-empty-interface":"off","@typescript-eslint/prefer-for-of":"off","@typescript-eslint/no-this-alias":"off","@typescript-eslint/no-non-null-assertion":"off","@typescript-eslint/no-explicit-any":"off","@typescript-eslint/unbound-method":"off","@typescript-eslint/explicit-module-boundary-types":"off","no-async-promise-executor":"off","@typescript-eslint/no-floating-promises":"off","@typescript-eslint/no-empty-function":"off","@typescript-eslint/no-namespace":"off","@typescript-eslint/ban-ts-comment":"off","no-constant-condition":"off","no-prototype-builtins":"off","no-control-regex":"off","@typescript-eslint/ban-types":["error",{types:{object:!1,Function:!1,"{}":!1},extendDefaults:!0}]}};var pe=class{getName(){return"eslint"}getDevDependencies(){return[new g("@typescript-eslint/eslint-plugin"),new g("@typescript-eslint/parser"),new g("eslint-config-prettier"),new g("eslint-plugin-prettier"),new g("eslint")]}getConfigFiles(){return[new h(()=>on,".eslintrc.json"),new h(()=>sn,".eslintignore")]}packageJsonMiddleware(e){return e.addScript("fix:lint","eslint --fix ./src/**/*.ts"),e.addScript("test:lint","eslint ./src/**/*.ts"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&te(r)&&r.hooks["pre-push"].push({name:"Lint",script:"test:lint"})}};a(pe,"EslintModule");var cn=b(require("fs/promises")),ln=b(require("path"));var an=j`
/** @type {import("@reactgjs/gest/config").ConfigGetter} */
const getConfig = () => {
    return {
        testDir: "./__tests__",
        srcDir: "./src",
    };
};

export default getConfig;
`;var Xe={extends:"../tsconfig.json",include:["../**/*"],compilerOptions:{rootDir:"..",noEmit:!0}};var fe=class{getName(){return"gest"}async beforeStart(e){let r=ln.default.resolve(e.projectDir,"__tests__");await cn.default.mkdir(r)}getDevDependencies(){return[new g("@reactgjs/gest")]}getConfigFiles(){return[new h(()=>an,"gest.config.mjs"),new h(()=>Xe,"tsconfig.json","__tests__")]}packageJsonMiddleware(e){return e.addScript("test:unit","gest"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&te(r)&&r.hooks["pre-push"].push({name:"Unit Tests",script:"test:unit"})}};a(fe,"GestModule");var dn=b(require("fs/promises")),fn=b(require("path"));var un=j`
const fs = require("fs");
const path = require("path");

const swcConfig = JSON.parse(
  fs.readFileSync(path.resolve(__dirname, ".swcrc"), "utf-8")
);

/** @type {import("jest").Config} */
const config = {
  testRegex: ".*__tests__/.+(\\.test\\.(ts|js|tsx|jsx))$",
  transform: {
    "^.+\\.(js|jsx|ts|tsx)$": ["@swc/jest", swcConfig],
  },
  roots: ["<rootDir>"],
  collectCoverageFrom: ["src/**/*.(ts|js|tsx|jsx)"],
  coverageReporters: ["html", "text"],
  coverageThreshold: {
    global: {
      branches: 0,
      functions: 0,
      lines: 0,
      statements: 0,
    },
  },
  coveragePathIgnorePatterns: [
    "/node_modules/",
    "/coverage/",
    "/__mocks__/",
    "/__tests__/",
    "/dist/",
    "/.husky/",
    "/.vscode/",
  ],
};

module.exports = config;
`.trim()+`
`;var pn={jsc:{keepClassNames:!0,parser:{syntax:"typescript",tsx:!0,decorators:!0,dynamicImport:!1},target:"es2022",baseUrl:"."},module:{type:"es6",strict:!0}};var ge=class{getName(){return"jest"}async beforeStart(e){let r=fn.default.resolve(e.projectDir,"__tests__");await dn.default.mkdir(r)}getDevDependencies(){return[new g("@swc/core"),new g("@swc/jest"),new g("@types/jest"),new g("jest")]}getConfigFiles(){return[new h(()=>un,"jest.config.js"),new h(()=>pn,".swcrc"),new h(()=>Xe,"tsconfig.json","__tests__")]}packageJsonMiddleware(e){return e.addScript("test:unit","jest --coverage"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&te(r)&&r.hooks["pre-push"].push({name:"Unit Tests",script:"test:unit"})}};a(ge,"JestModule");var xn=b(require("fs/promises")),On=b(require("path"));var gn=a(async t=>{x.print(P`
    <span color="lightGreen">Configuring:</span>
    <pre> git-hook-tasks</pre>
  `),await t.run("git-hook-tasks","install","-p",t.getName())},"configureGitHookTasks");var mn=a(t=>{let e=[{name:"TypeScript",script:"test:tsc"},{name:"Formatting",script:"test:format"}];return{packageManager:t.packageManager.getName(),parallel:!0,hooks:{"pre-push":e,"pre-commit":[],"post-commit":[]}}},"getGitHookTasksConfig");var hn=["/node_modules","/coverage","/dist","/yarn-error.log","/.yarn/cache","/.yarn/install-state.gz"].join(`
`);var bn=a(t=>`MIT License

  Copyright (c) ${new Date().getFullYear()}${t.authorName?` ${t.authorName}`:""}
  
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  
  The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.
  
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.`,"getLicense");var yn=`
//registry.npmjs.org/:_authToken=\${NPM_TOKEN}
`.trim();var wn=["/__mocks__","/__tests__","/.github","/.husky","/.vscode","/coverage","/scripts","/src","/.editorconfig","/.eslintignore","/.eslintrc.json","/.gitignore","/.prettierignore","/.prettierrc.json","/.yarn","/.yarnrc.yml","/git-hook-tasks.config.json","/jest.config.js","/tsconfig.json","/yarn-error.log"].join(`
`);var Cn=["**/*.json"].join(`
`);var vn=j`
/**
 * @type {import("prettier").Options}
 */
const config = {
  bracketSpacing: true,
  tabWidth: 2,
  semi: true,
  singleQuote: false,
  printWidth: 70,
  singleAttributePerLine: true,
  plugins: ["./node_modules/prettier-plugin-jsdoc/dist/index.js"],
  jsdocSingleLineComment: false,
};

export default config;
`;var _n={compilerOptions:{target:"ESNext",module:"ES6",moduleResolution:"node",jsx:"react",declaration:!0,outDir:"./dist",rootDir:"./src",downlevelIteration:!0,strict:!0,noUnusedLocals:!0,noUncheckedIndexedAccess:!0,esModuleInterop:!0,skipLibCheck:!0,forceConsistentCasingInFileNames:!0,isolatedModules:!0,noImplicitAny:!0},include:["src/**/*"]};var kn={"editor.formatOnSave":!0,"editor.codeActionsOnSave":["source.organizeImports","source.fixAll.eslint"]};var me=class{getName(){return"Main"}async beforeStart(e){let r=On.default.resolve(e.projectDir,".vscode");if(await xn.default.mkdir(r),e.packageManager.getName()==="yarn")return await e.packageManager.changeVersion("classic")}getDevDependencies(){return[new g("husky"),new g("prettier-plugin-jsdoc"),new g("prettier"),new g("typescript"),new g("git-hook-tasks",{register:"github",user:"ncpa0cpl"})]}getConfigFiles(){return[new h(()=>hn,".gitignore"),new h(()=>_n,"tsconfig.json"),new h(()=>vn,".prettierrc.mjs"),new h(()=>Cn,".prettierignore"),new h(()=>yn,".npmrc"),new h(()=>wn,".npmignore"),new h(bn,"LICENSE"),new h(mn,"git-hook-tasks.config.json"),new h(()=>kn,"settings.json",".vscode")]}async afterEnd(e){await gn(e.packageManager)}};a(me,"MainModule");var Nn=b(require("fs/promises")),Tn=b(require("path"));var In=j`
import { build } from "@ncpa0cpl/nodepack";
import path from "node:path";
import { fileURLToPath } from "url";

const __dirname = path.dirname(fileURLToPath(import.meta.url));
const p = (...fpath) => path.resolve(__dirname, "..", ...fpath);

const isDev = process.argv.includes("--dev");
const watch = process.argv.includes("--watch");

async function main() {
  /**
   * @type {import("@ncpa0cpl/nodepack").BuildConfig}
   */
  const bldOptions = {
    tsConfig: p("tsconfig.json"),
    srcDir: p("src"),
    outDir: p("dist"),
    target: "ESNext",
    formats: ["esm", "cjs", "legacy"],
    declarations: true,
    watch: watch,
    esbuildOptions: {
      minify: !isDev,
      sourcemap: isDev ? "inline" : false,
    }
  }

  await build(bldOptions);
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});
`;var he=class{getName(){return"nodepack"}async beforeStart(e){let r=Tn.default.resolve(e.projectDir,"scripts");await Nn.default.mkdir(r)}getDevDependencies(){return[new g("esbuild"),new g("@ncpa0cpl/nodepack")]}getConfigFiles(){return[new h(()=>In,"build.mjs","scripts")]}packageJsonMiddleware(e){return e.addScript("build","node ./scripts/build.mjs"),e}};a(he,"NodepackModule");var be=class{getName(){return"build-tsc"}packageJsonMiddleware(e){return e.addScript("build","tsc"),e}};a(be,"TscBuilderModule");var Mn=a(()=>`
enableGlobalCache: true

nodeLinker: node-modules

enableMessageNames: false

enableProgressBars: true
`.trim()+`
`,"getYarnRc");var ye=class{getName(){return"yarn3"}getConfigFiles(){return[new h(Mn,".yarnrc.yml")]}async beforeStart(e){return await e.packageManager.changeVersion("stable")}};a(ye,"YarnBerryModule");var _s=new me,xt=class{constructor(e){this.loadedModules=[_s];let r=e.moduleList.split(",").filter(n=>Boolean(n));for(let n of r){let i=xt.Modules.find(s=>s.getName()===n);i||(console.error(`'${n}' is not a valid module`),process.exit(1)),this.loadedModules.includes(i)||this.loadedModules.push(i)}this.ctx={allLoadedModules:this.loadedModules.map(n=>n.getName()),packageManager:e.packageManager,projectName:e.projectName,authorName:e.authorName,projectDir:""}}getContext(){return this.ctx}async beforeStart(e){this.ctx.projectDir=e,Object.freeze(this.ctx);for(let r of this.loadedModules)r.beforeStart&&await r.beforeStart(this.ctx)}async afterEnd(){for(let e of this.loadedModules)e.afterEnd&&await e.afterEnd(this.ctx)}getDependencies(){return this.loadedModules.flatMap(e=>e.getDependencies?.(this.ctx)).filter(e=>e!=null)}getDevDependencies(){return this.loadedModules.flatMap(e=>e.getDevDependencies?.(this.ctx)).filter(e=>e!=null)}prepareFile(e){let r=this.loadedModules.reduce((n,i)=>i.beforeWriteFile?.(e.filename,n,this.ctx)??n,e.getContent(this.ctx));return{filepath:Sn.default.join(e.location,e.filename),content:typeof r=="string"?r:JSON.stringify(r,null,2)}}getConfigFiles(){return this.loadedModules.flatMap(e=>e.getConfigFiles?.(this.ctx)).filter(e=>e!=null).map(e=>this.prepareFile(e))}async applyPackageJsonMiddleware(e){let r=e;for(let n of this.loadedModules)n.packageJsonMiddleware&&(r=await n.packageJsonMiddleware(r,this.ctx));return r}},re=xt;a(re,"ModuleController"),re.Modules=[new ge,new fe,new ye,new be,new he,new ue,new pe];var Ot=b(require("fs/promises")),En=b(require("path"));var we=class{constructor(e={}){this.packageJson=e}addScript(e,r){Object.defineProperty(this.packageJson.scripts,e,{value:r,enumerable:!0})}addIfNotExists(e,r){e in this.packageJson||Object.defineProperty(this.packageJson,e,{value:r,enumerable:!0})}toJSON(){return JSON.stringify(this.packageJson,null,2)}};a(we,"PkgJsonFacade");var Pn=a(async(t,e)=>{x.print(P`
    <span color="lightGreen">Generating:</span>
    <pre> package.json file</pre>
  `);let r=e.getContext(),n=En.default.resolve(t,"package.json"),i=await Ot.default.readFile(n,{encoding:"utf-8"}),s=JSON.parse(i),o=new we({name:r.projectName,version:"1.0.0",main:"./dist/index.js",keywords:[],repository:{type:"git",url:""},description:"",license:"MIT",author:{name:r.authorName??"",email:""},scripts:{"fix:format":"prettier -w ./src/**/*.ts","test:format":"prettier -c ./src/**/*.ts","test:tsc":"tsc --noEmit"}});for(let[c,l]of Object.entries(s))o.addIfNotExists(c,l);return await e.applyPackageJsonMiddleware(o).then(c=>Ot.default.writeFile(n,c.toJSON()))},"updatePackageFile");var An=a(async t=>{let{projectName:e,authorName:r,cwd:n,packageManager:i,modules:s}=t,o=Kr(i.value),c=new re({moduleList:s.value??"",packageManager:o,projectName:e.value,authorName:r.value}),l=n.value??process.cwd(),p=Ce.default.resolve(l,e.value),d=Ce.default.resolve(p,"src"),f=Ce.default.resolve(p,"dist"),S=Ce.default.resolve(d,"index.ts");(await ne.default.readdir(l)).includes(e.value)&&(console.error(`Directory with the name "${e.value}" already exists.`),process.exit(1)),await ne.default.mkdir(p),o.setCwd(p),await o.init(),await c.beforeStart(p),await q.init(p),x.print(P`
    <span color="lightGreen">Generating:</span>
    <pre color="lightYellow"> ${e.value} </pre>
    <span>project files</span>
  `),await Promise.all([ne.default.mkdir(d),ne.default.mkdir(f),en(p,c)]),await ne.default.writeFile(S,""),g.setPackageManagerType(o.getName(),await o.getVersion());for(let N of c.getDependencies())x.print(P`
      <span color="lightGreen">Installing dependency:</span>
      <pre> ${N.getFriendlyName()}</pre>
    `),await o.install(N.getInstallName());for(let N of c.getDevDependencies())x.print(P`
      <span color="lightGreen">Installing development dependency:</span>
      <pre> ${N.getFriendlyName()}</pre>
    `),await o.installDev(N.getInstallName());await Pn(p,c),await c.afterEnd(),await q.add()},"mainAction");var ks="generate-new-project",xs="Generate a new Typescript project.";jn.default.configure(t=>{t.setDisplayName(ks),t.setDescription(xs),t.setMainAction(()=>{let e=new Er,r=new Mr,n=new Sr,i=new Pr,s=new Ar;return{run(){return An({cwd:e,packageManager:r,projectName:n,authorName:i,modules:s})}}})});
