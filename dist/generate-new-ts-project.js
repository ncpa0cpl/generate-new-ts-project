#!/usr/bin/env node
"use strict";var An=Object.create;var Ce=Object.defineProperty;var Pn=Object.getOwnPropertyDescriptor;var jn=Object.getOwnPropertyNames;var Rn=Object.getPrototypeOf,Fn=Object.prototype.hasOwnProperty;var Dn=(t,e,r)=>e in t?Ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var a=(t,e)=>Ce(t,"name",{value:e,configurable:!0});var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ln=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jn(e))!Fn.call(t,i)&&i!==r&&Ce(t,i,{get:()=>e[i],enumerable:!(n=Pn(e,i))||n.enumerable});return t};var h=(t,e,r)=>(r=t!=null?An(Rn(t)):{},Ln(e||!t||!t.__esModule?Ce(r,"default",{value:t,enumerable:!0}):r,t));var A=(t,e,r)=>(Dn(t,typeof e!="symbol"?e+"":e,r),r);var xt=m((gs,kt)=>{"use strict";kt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Ke=m((ms,Ot)=>{var ie=xt(),It={};for(let t of Object.keys(ie))It[ie[t]]=t;var u={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Ot.exports=u;for(let t of Object.keys(u)){if(!("channels"in u[t]))throw new Error("missing channels property: "+t);if(!("labels"in u[t]))throw new Error("missing channel labels property: "+t);if(u[t].labels.length!==u[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=u[t];delete u[t].channels,delete u[t].labels,Object.defineProperty(u[t],"channels",{value:e}),Object.defineProperty(u[t],"labels",{value:r})}u.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,c,l;s===i?c=0:e===s?c=(r-n)/o:r===s?c=2+(n-e)/o:n===s&&(c=4+(e-r)/o),c=Math.min(c*60,360),c<0&&(c+=360);let p=(i+s)/2;return s===i?l=0:p<=.5?l=o/(s+i):l=o/(2-s-i),[c,l*100,p*100]};u.rgb.hsv=function(t){let e,r,n,i,s,o=t[0]/255,c=t[1]/255,l=t[2]/255,p=Math.max(o,c,l),f=p-Math.min(o,c,l),b=a(function(D){return(p-D)/6/f+1/2},"diffc");return f===0?(i=0,s=0):(s=f/p,e=b(o),r=b(c),n=b(l),o===p?i=n-r:c===p?i=1/3+e-n:l===p&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,p*100]};u.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=u.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};u.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,c=(1-n-i)/(1-i)||0;return[s*100,o*100,c*100,i*100]};function $n(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}a($n,"comparativeDistance");u.rgb.keyword=function(t){let e=It[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(ie)){let s=ie[i],o=$n(t,s);o<r&&(r=o,n=i)}return n};u.keyword.rgb=function(t){return ie[t]};u.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};u.rgb.lab=function(t){let e=u.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),c=200*(n-i);return[s,o,c]};u.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let c=2*n-i,l=[0,0,0];for(let p=0;p<3;p++)s=e+1/3*-(p-1),s<0&&s++,s>1&&s--,6*s<1?o=c+(i-c)*6*s:2*s<1?o=i:3*s<2?o=c+(i-c)*(2/3-s)*6:o=c,l[p]=o*255;return l};u.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,c=n===0?2*i/(s+i):2*r/(n+r);return[e,c*100,o*100]};u.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),c=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,l,o];case 1:return[c,n,o];case 2:return[o,n,l];case 3:return[o,c,n];case 4:return[l,o,n];case 5:return[n,o,c]}};u.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let c=(2-r)*i;return s=r*i,s/=c<=1?c:2-c,s=s||0,o/=2,[e,s*100,o*100]};u.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*e),c=1-n;s=6*e-o,o&1&&(s=1-s);let l=r+s*(c-r),p,f,b;switch(o){default:case 6:case 0:p=c,f=l,b=r;break;case 1:p=l,f=c,b=r;break;case 2:p=r,f=c,b=l;break;case 3:p=r,f=l,b=c;break;case 4:p=l,f=r,b=c;break;case 5:p=c,f=r,b=l;break}return[p*255,f*255,b*255]};u.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),c=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,c*255]};u.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};u.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};u.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;let c=s**3,l=i**3,p=o**3;return s=c>.008856?c:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=p>.008856?p:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};u.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[e,o,i]};u.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};u.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?u.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};u.hsv.ansi16=function(t){return u.rgb.ansi16(u.hsv.rgb(t),t[2])};u.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};u.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};u.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};u.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};u.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(c=>c+c).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};u.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,c,l;return o<1?c=s/(1-o):c=0,o<=0?l=0:i===e?l=(r-n)/o%6:i===r?l=2+(n-e)/o:l=4+(e-r)/o,l/=6,l%=1,[l*360,o*100,c*100]};u.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};u.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};u.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,o=s%1,c=1-o,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};u.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};u.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};u.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};u.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};u.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};u.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};u.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};u.gray.hsl=function(t){return[0,0,t[0]]};u.gray.hsv=u.gray.hsl;u.gray.hwb=function(t){return[0,100,t[0]]};u.gray.cmyk=function(t){return[0,0,0,t[0]]};u.gray.lab=function(t){return[t[0],0,0]};u.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};u.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Tt=m((bs,Nt)=>{var _e=Ke();function Gn(){let t={},e=Object.keys(_e);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}a(Gn,"buildGraph");function Bn(t){let e=Gn(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(_e[n]);for(let s=i.length,o=0;o<s;o++){let c=i[o],l=e[c];l.distance===-1&&(l.distance=e[n].distance+1,l.parent=n,r.unshift(c))}}return e}a(Bn,"deriveBFS");function qn(t,e){return function(r){return e(t(r))}}a(qn,"link");function zn(t,e){let r=[e[t].parent,t],n=_e[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=qn(_e[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}a(zn,"wrapConversion");Nt.exports=function(t){let e=Bn(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let o=n[s];e[o].parent!==null&&(r[o]=zn(o,e))}return r}});var Mt=m((ws,St)=>{var Xe=Ke(),Wn=Tt(),q={},Un=Object.keys(Xe);function Hn(t){let e=a(function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}a(Hn,"wrapRaw");function Jn(t){let e=a(function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}a(Jn,"wrapRounded");Un.forEach(t=>{q[t]={},Object.defineProperty(q[t],"channels",{value:Xe[t].channels}),Object.defineProperty(q[t],"labels",{value:Xe[t].labels});let e=Wn(t);Object.keys(e).forEach(n=>{let i=e[n];q[t][n]=Jn(i),q[t][n].raw=Hn(i)})});St.exports=q});var Ft=m((Cs,Rt)=>{"use strict";var Et=a((t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,"wrapAnsi16"),At=a((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},"wrapAnsi256"),Pt=a((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},"wrapAnsi16m"),ke=a(t=>t,"ansi2ansi"),jt=a((t,e,r)=>[t,e,r],"rgb2rgb"),z=a((t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},"setLazyProperty"),Qe,W=a((t,e,r,n)=>{Qe===void 0&&(Qe=Mt());let i=n?10:0,s={};for(let[o,c]of Object.entries(Qe)){let l=o==="ansi16"?"ansi":o;o===e?s[l]=t(r,i):typeof c=="object"&&(s[l]=t(c[e],i))}return s},"makeDynamicStyles");function Vn(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,s]of Object.entries(n))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",z(e.color,"ansi",()=>W(Et,"ansi16",ke,!1)),z(e.color,"ansi256",()=>W(At,"ansi256",ke,!1)),z(e.color,"ansi16m",()=>W(Pt,"rgb",jt,!1)),z(e.bgColor,"ansi",()=>W(Et,"ansi16",ke,!0)),z(e.bgColor,"ansi256",()=>W(At,"ansi256",ke,!0)),z(e.bgColor,"ansi16m",()=>W(Pt,"rgb",jt,!0)),e}a(Vn,"assembleStyles");Object.defineProperty(Rt,"exports",{enumerable:!0,get:Vn})});var Lt=m((ks,Dt)=>{"use strict";Dt.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Bt=m((xs,Gt)=>{"use strict";var Yn=require("os"),$t=require("tty"),O=Lt(),{env:y}=process,P;O("no-color")||O("no-colors")||O("color=false")||O("color=never")?P=0:(O("color")||O("colors")||O("color=true")||O("color=always"))&&(P=1);"FORCE_COLOR"in y&&(y.FORCE_COLOR==="true"?P=1:y.FORCE_COLOR==="false"?P=0:P=y.FORCE_COLOR.length===0?1:Math.min(parseInt(y.FORCE_COLOR,10),3));function Ze(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}a(Ze,"translateLevel");function et(t,e){if(P===0)return 0;if(O("color=16m")||O("color=full")||O("color=truecolor"))return 3;if(O("color=256"))return 2;if(t&&!e&&P===void 0)return 0;let r=P||0;if(y.TERM==="dumb")return r;if(process.platform==="win32"){let n=Yn.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in y)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in y)||y.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in y)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(y.TEAMCITY_VERSION)?1:0;if(y.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in y){let n=parseInt((y.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(y.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(y.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(y.TERM)||"COLORTERM"in y?1:r}a(et,"supportsColor");function Kn(t){let e=et(t,t&&t.isTTY);return Ze(e)}a(Kn,"getSupportLevel");Gt.exports={supportsColor:Kn,stdout:Ze(et(!0,$t.isatty(1))),stderr:Ze(et(!0,$t.isatty(2)))}});var zt=m((Os,qt)=>{"use strict";var Xn=a((t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,o="";do o+=t.substr(s,n-s)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return o+=t.substr(s),o},"stringReplaceAll"),Qn=a((t,e,r,n)=>{let i=0,s="";do{let o=t[n-1]==="\r";s+=t.substr(i,(o?n-1:n)-i)+e+(o?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.substr(i),s},"stringEncaseCRLFWithFirstIndex");qt.exports={stringReplaceAll:Xn,stringEncaseCRLFWithFirstIndex:Qn}});var Vt=m((Ts,Jt)=>{"use strict";var Zn=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Wt=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,ei=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ti=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,ri=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Ht(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):ri.get(t)||t}a(Ht,"unescape");function ni(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(ei))r.push(i[2].replace(ti,(c,l,p)=>l?Ht(l):p));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`)}return r}a(ni,"parseArguments");function ii(t){Wt.lastIndex=0;let e=[],r;for(;(r=Wt.exec(t))!==null;){let n=r[1];if(r[2]){let i=ni(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}a(ii,"parseStyle");function Ut(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let[i,s]of Object.entries(r))if(Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}a(Ut,"buildStyle");Jt.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(Zn,(s,o,c,l,p,f)=>{if(o)i.push(Ht(o));else if(l){let b=i.join("");i=[],n.push(r.length===0?b:Ut(t,r)(b)),r.push({inverse:c,styles:ii(l)})}else if(p){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Ut(t,r)(i.join(""))),i=[],r.pop()}else i.push(f)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var Se=m((Ms,er)=>{"use strict";var se=Ft(),{stdout:rt,stderr:nt}=Bt(),{stringReplaceAll:si,stringEncaseCRLFWithFirstIndex:oi}=zt(),{isArray:Ie}=Array,Kt=["ansi","ansi","ansi256","ansi16m"],U=Object.create(null),ai=a((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=rt?rt.level:0;t.level=e.level===void 0?r:e.level},"applyOptions"),xe=class{constructor(e){return Xt(e)}};a(xe,"ChalkClass");var Xt=a(t=>{let e={};return ai(e,t),e.template=(...r)=>Zt(e.template,...r),Object.setPrototypeOf(e,Oe.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=xe,e.template},"chalkFactory");function Oe(t){return Xt(t)}a(Oe,"Chalk");for(let[t,e]of Object.entries(se))U[t]={get(){let r=Ne(this,it(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};U.visible={get(){let t=Ne(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var Qt=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of Qt)U[t]={get(){let{level:e}=this;return function(...r){let n=it(se.color[Kt[e]][t](...r),se.color.close,this._styler);return Ne(this,n,this._isEmpty)}}};for(let t of Qt){let e="bg"+t[0].toUpperCase()+t.slice(1);U[e]={get(){let{level:r}=this;return function(...n){let i=it(se.bgColor[Kt[r]][t](...n),se.bgColor.close,this._styler);return Ne(this,i,this._isEmpty)}}}}var ci=Object.defineProperties(()=>{},{...U,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),it=a((t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},"createStyler"),Ne=a((t,e,r)=>{let n=a((...i)=>Ie(i[0])&&Ie(i[0].raw)?Yt(n,Zt(n,...i)):Yt(n,i.length===1?""+i[0]:i.join(" ")),"builder");return Object.setPrototypeOf(n,ci),n._generator=t,n._styler=e,n._isEmpty=r,n},"createBuilder"),Yt=a((t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=si(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=oi(e,i,n,s)),n+e+i},"applyStyle"),tt,Zt=a((t,...e)=>{let[r]=e;if(!Ie(r)||!Ie(r.raw))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return tt===void 0&&(tt=Vt()),tt(t,i.join(""))},"chalkTag");Object.defineProperties(Oe.prototype,U);var Te=Oe();Te.supportsColor=rt;Te.stderr=Oe({level:nt?nt.level:0});Te.stderr.supportsColor=nt;er.exports=Te});var st=m(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.isNumerical=void 0;var li=a(t=>/^[0-9]+$/.test(t),"isNumerical");Me.isNumerical=li});var rr=m(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.splitByAlphanumericTransitions=void 0;var tr=st();function ui(t){let e=[],r=a(()=>e[e.length-1],"lastChar"),n=a(s=>e[e.length-1]+=s,"addChar"),i=a(s=>e.push(s),"addNextWord");for(let s of t.split("")){let o=r();if(o===void 0){i(s);continue}if((0,tr.isNumerical)(s)===(0,tr.isNumerical)(o)){n(s);continue}i(s)}return e}a(ui,"splitByAlphanumericTransitions");Ee.splitByAlphanumericTransitions=ui});var ar=m(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.compareStrings=void 0;var nr=st(),ir=rr();function oe(t,e){if(t===e)return 0;let r=t.length>e.length?e:t;for(let n of Array.from({length:r.length},(i,s)=>s)){let i=t.charCodeAt(n),s=e.charCodeAt(n);if(i<s)return-1;if(i>s)return 1}return t.length>e.length?1:-1}a(oe,"compare");function sr(t,e){if(t===e)return 0;let r=(0,ir.splitByAlphanumericTransitions)(t),n=(0,ir.splitByAlphanumericTransitions)(e),i=r.length>n.length?n:r;for(let s of Array.from({length:i.length},(o,c)=>c)){let o=r[s],c=n[s],l=(0,nr.isNumerical)(o),p=(0,nr.isNumerical)(c);if(l&&!p)return-1;if(!l&&p)return 1;if(l&&p){let f=Number(o),b=Number(c);if(f<b)return-1;if(f>b)return 1}if(!l&&!p){let f=oe(o,c);if(f!==0)return f}}return 0}a(sr,"compareWithNumbers");function pi(t,e){var r,n;if(typeof t=="string"&&typeof e=="string")return oe(t,e);if(typeof t=="object"&&t!==null){let i=(r=t.numCompare)!==null&&r!==void 0?r:!1,s=(n=t.reverse)!==null&&n!==void 0?n:!1;return i?(o,c)=>s?or[sr(o,c)]:sr(o,c):(o,c)=>s?or[oe(o,c)]:oe(o,c)}return oe}a(pi,"compareStrings");Ae.compareStrings=pi;var or={"-1":1,0:0,1:-1}});var cr=m(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.isArgName=void 0;function di(t){return t[0]==="-"}a(di,"isArgName");Pe.isArgName=di});var lr=m(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.parseArgumentValue=void 0;function fi(t){return t==="true"?!0:t==="false"?!1:t}a(fi,"parseArgumentValue");je.parseArgumentValue=fi});var ot=m(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Arguments=void 0;var ur=cr(),gi=lr(),Re=class{constructor(){this.subCommands=[],this.arguments=new Map;let e=process.argv.slice(2);this.init(e)}init(e){for(;e.length!==0;){let r=e.shift();if((0,ur.isArgName)(r))if(e[0]&&!(0,ur.isArgName)(e[0])){let n=e.shift();this.arguments.set(r,(0,gi.parseArgumentValue)(n))}else this.arguments.set(r,!0);else this.subCommands.push(r)}Object.freeze(this.arguments),Object.freeze(this.subCommands)}isArgumentSet(e){return this.arguments.has(e.keyword)||this.arguments.has(e.flagChar)}getArgument(e){if(this.arguments.has(e.keyword))return this.arguments.get(e.keyword);if(this.arguments.has(e.flagChar))return this.arguments.get(e.flagChar);if(e.default!==void 0)return e.default}getSubCommandsPath(){return[...this.subCommands]}};a(Re,"ArgumentParser");Fe.Arguments=new Re});var at=m(H=>{"use strict";var mi=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(H,"__esModule",{value:!0});H.Argument=void 0;var De=mi(Se()),hi=ar(),pr=ot(),bi=/^[+-]?([0-9]*[.])?[0-9]+$/,v=class{constructor(){v.isCommandInitializing()||this.throwInternalError("Arguments must be initialized within the Command init callback."),this.context=this.init(),this._value=this.getArgumentValue(),this._isSet=pr.Arguments.isArgumentSet(this.context)}static hasMultipleArgumentsWithKeywordOrFlag(e,r){return v.initiatedArguments.filter(n=>n.context.keyword===e||n.context.flagChar===r).length>1}static startCommandInitialization(){v._isCommandInitializing=!0}static endCommandInitialization(){v._isCommandInitializing=!1}static isCommandInitializing(){return v._isCommandInitializing}static getArgumentsInfo(){return v.initiatedArguments.sort((e,r)=>(0,hi.compareStrings)({numCompare:!0})(e.context.flagChar,r.context.flagChar)).map(e=>{var r;return{flagChar:e.context.flagChar,keyword:e.context.keyword,description:(r=e.context.description)!==null&&r!==void 0?r:"",category:e.context.category}})}static validateArguments(){for(let e of v.initiatedArguments)e.validate()}static define(e){class r extends v{constructor(){super(),v.initiatedArguments.push(this)}init(){return e}}return a(r,"Arg"),r}ensureDataType(e){if(!this.context.require&&e===void 0)return e;switch(this.context.dataType){case"boolean":if(typeof e=="boolean")return e;if(e==="0"||e===0)return!1;if(e==="1"||e===1)return!0;this.throwArgumentError('Argument value is not of expected type (boolean). Try one of the following: "true", "false", 0 or 1');break;case"number":if(typeof e=="number")return e;if(typeof e=="string"&&bi.test(e))return Number(e);this.throwArgumentError("Argument value is not of expected type (number). Try putting in a number value to this argument like: 0, 1, 123, 1.2 or .678");break;case"string":if(typeof e=="string")return e;this.throwArgumentError("Argument value is not of expected type (string).");break;default:return e}}validate(){let e=/^--[a-zA-Z]+(-[a-zA-Z]+)*$/,r=/^-[a-zA-Z]+$/;e.test(this.context.keyword)||this.throwInternalError(`Incorrect Argument definition: invalid keyword (${this.context.keyword})`),r.test(this.context.flagChar)||this.throwInternalError(`Incorrect Argument definition: invalid flag character (${this.context.flagChar})`),v.hasMultipleArgumentsWithKeywordOrFlag(this.context.keyword,this.context.flagChar)&&this.throwInternalError("Duplicate argument instances declared within a Command."),this.context.require&&this.value===void 0&&this.throwArgumentError("Argument must be specified."),this._value=this.ensureDataType(this.value)}getName(){return this.context.displayName||this.context.keyword}getArgumentValue(){return pr.Arguments.getArgument(this.context)}throwArgumentError(e){let r=this.getName();throw new Error(`${De.default.red("Argument Error")} [${De.default.yellow(r)}]: ${e}`)}throwInternalError(e){let r=this.getName();throw new Error(`${De.default.red("Argument Error")} [${De.default.yellow(r)}]: ${e}`)}get value(){return this._value}get isSet(){return this._isSet}setDefault(e){this.context.default=e,this._value=this.getArgumentValue()}};a(v,"Argument");H.Argument=v;v._isCommandInitializing=!1;v.initiatedArguments=[]});var dr=m(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.groupByCategory=void 0;function yi(t){var e;let r=[],n=new Set([""]);for(let i of t)n.add((e=i.category)!==null&&e!==void 0?e:"");for(let i of n)r.push([i,t.filter(s=>{var o;return i===((o=s.category)!==null&&o!==void 0?o:"")})]);return r}a(yi,"groupByCategory");Le.groupByCategory=yi});var fr=m($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.padLeft=void 0;function wi(t,e){var r;e.paddingLength!==void 0&&(e.paddingLength=Math.max(0,e.paddingLength)),e.targetWidth!==void 0&&(e.targetWidth=Math.max(0,e.targetWidth));let n=(r=e.paddingLength)!==null&&r!==void 0?r:0;if(e.targetWidth!==void 0){if(e.targetWidth<=t.length)return t.slice(0,e.targetWidth);n=e.targetWidth-t.length}return`${Array.from({length:n},()=>" ").join("")}${t}`}a(wi,"padLeft");$e.padLeft=wi});var gr=m(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.padRight=void 0;function vi(t,e){var r;e.paddingLength!==void 0&&(e.paddingLength=Math.max(0,e.paddingLength)),e.targetWidth!==void 0&&(e.targetWidth=Math.max(0,e.targetWidth));let n=(r=e.paddingLength)!==null&&r!==void 0?r:0;if(e.targetWidth!==void 0){if(e.targetWidth<=t.length)return t.slice(0,e.targetWidth);n=e.targetWidth-t.length}return`${t}${Array.from({length:n},()=>" ").join("")}`}a(vi,"padRight");Ge.padRight=vi});var mr=m(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.splitToNLengthChunks=void 0;function Ci(t,e){let r=t.split(""),n=[];for(;;){let i=r.splice(0,e);if(i.length===0)break;n.push(i.join(""))}return n}a(Ci,"splitToNLengthChunks");Be.splitToNLengthChunks=Ci});var hr=m(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.stringListLength=void 0;function _i(t){return t.reduce((e,r)=>e+r.length,0)}a(_i,"stringListLength");qe.stringListLength=_i});var yr=m(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.printLists=J.removeColumnsNotFittingTheScreen=void 0;var br=fr(),ki=gr(),xi=mr(),ct=hr();function lt(t,e){t=[...t];let r=t.slice(0,-1);return(0,ct.stringListLength)(r)>=e?lt(r,e):t}a(lt,"removeColumnsNotFittingTheScreen");J.removeColumnsNotFittingTheScreen=lt;function Ii(t,e=!1){let r=e?2:0,n=t.reduce((o,c)=>Math.max(o,c.length),0),i=Array.from({length:n}).map((o,c)=>t.reduce((p,f)=>f[c]?Math.max(p,f[c].length):p,0)+2),s=process.stdout.columns;for(let o of t){let c=o.map((p,f,b)=>{let D=i[f],ne=(0,br.padLeft)(p,{paddingLength:r});return f===b.length-1?ne:(0,ki.padRight)(ne,{targetWidth:D})}),l=lt(c,s);if(l.length===0)return;if((0,ct.stringListLength)(l)>s){let p=l.splice(-1)[0],f=(0,ct.stringListLength)(l)+r,b=s-f,[D,...ne]=(0,xi.splitToNLengthChunks)(p,b);l.push(D),console.log(l.join(""));for(let L of ne){let En=(0,br.padLeft)(L,{paddingLength:f});console.log(En)}}else console.log(l.join(""))}}a(Ii,"printLists");J.printLists=Ii});var ut=m(V=>{"use strict";var Oi=V&&V.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(V,"__esModule",{value:!0});V.Command=void 0;var Ni=Oi(Se()),ce=at(),Ti=dr(),ae=yr(),Si=ce.Argument.define({flagChar:"-h",keyword:"--help",dataType:"boolean",displayName:"help",description:"Show this help message."}),M=class{constructor(){this.childCommands=[],this.implementation=void 0,this.initialize=void 0,this.description="",this.shortDescription="",this.name=""}static initHelpArg(){M.helpArgument||(M.helpArgument=new Si)}setImplementation(e){this.implementation=e}runInitialize(){ce.Argument.startCommandInitialization();try{if(M.initHelpArg(),this.initialize&&!this.implementation){let e=this.initialize();this.setImplementation(e),e.commandDescription&&(this.description=e.commandDescription),e.shortDescription&&(this.shortDescription=e.shortDescription),e.displayName&&(this.name=e.displayName)}}finally{ce.Argument.endCommandInitialization()}}define(e){this.initialize=e}execute(){var e;if(this.runInitialize(),!((e=M.helpArgument)===null||e===void 0)&&e.isSet&&M.helpArgument.value===!0)return this.printHelpMessage();if(ce.Argument.validateArguments(),this.implementation)return this.implementation.run()}addChildCommand(e){if(this.findChildCommand(e.keyword))throw new Error(`${Ni.default.red("Internal Error:")} There cannot be multiple commands with the same keyword.`);this.childCommands.push(e)}findChildCommand(e){return this.childCommands.find(r=>r.keyword===e)}getName(){return this.name}printHelpMessage(){let e=(0,Ti.groupByCategory)(ce.Argument.getArgumentsInfo()),r=this.getName();this.description?(0,ae.printLists)([[`${r}:`,this.description]]):this.shortDescription?(0,ae.printLists)([[`${r}:`,this.shortDescription]]):(0,ae.printLists)([[`${r}:`]]),this.childCommands.length>0&&(console.log(`
Commands:`),(0,ae.printLists)(this.childCommands.map(n=>n.getPrintableList()),!0)),console.log(`
Arguments:`);for(let[n,i]of e)n.length>0&&console.log(`
${n}:`),(0,ae.printLists)(i.map(s=>[s.flagChar,s.keyword,s.description]),!0)}setDescription(e){this.description=e}setDisplayName(e){this.name=e}};a(M,"Command");V.Command=M});var pt=m(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.defaultInitializer=void 0;function Mi(){let t=this;return{run(){t.printHelpMessage()}}}a(Mi,"defaultInitializer");ze.defaultInitializer=Mi});var wr=m(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.SubCommand=void 0;var Ei=ut(),Ai=pt(),Y=class extends Ei.Command{constructor(e,r){super(),this.define(r),this.keyword=e}getPrintableList(){return this.runInitialize(),[this.keyword,this.shortDescription]}getName(){return this.name||this.keyword}addSubCommand(e,r=Ai.defaultInitializer){let n=new Y(e,r);return this.addChildCommand(n),n}};a(Y,"SubCommand");We.SubCommand=Y});var Cr=m(X=>{"use strict";var Pi=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X,"__esModule",{value:!0});X.MainCommand=void 0;var ji=Pi(require("path")),Ri=ot(),Fi=ut(),vr=pt(),Di=wr(),K=class extends Fi.Command{static init(){return new K}constructor(){super();let e=process.argv[1];this.name=ji.default.parse(e).name,this.define(vr.defaultInitializer)}start(){let e=Ri.Arguments.getSubCommandsPath();if(e.length===0)return this.execute();let r=this;for(;!(e.length===0||!r);){let n=e.shift();r=r.findChildCommand(n)}if(r)return r.execute()}setMainAction(e){this.define(e)}addSubCommand(e,r=vr.defaultInitializer){let n=new Di.SubCommand(e,r);return this.addChildCommand(n),n}};a(K,"MainCommand");X.MainCommand=K});var ft=m(T=>{"use strict";var Li=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(T,"__esModule",{value:!0});T.MainCommand=T.Argument=T.configure=void 0;var $i=Li(Se()),kr=at();Object.defineProperty(T,"Argument",{enumerable:!0,get:function(){return kr.Argument}});var dt=Cr();Object.defineProperty(T,"MainCommand",{enumerable:!0,get:function(){return dt.MainCommand}});var _r=dt.MainCommand.init();function xr(t){try{t(_r),_r.start()}catch(e){console.error($i.default.redBright("An error occurred when running this script.")),e instanceof Error&&console.error(e.message)}}a(xr,"configure");T.configure=xr;T.default={configure:xr,Argument:kr.Argument,MainCommand:dt.MainCommand}});var Mn=h(ft());var Q=h(ft()),Ir=Q.Argument.define({flagChar:"-p",keyword:"--package-manager",dataType:"string",default:"yarn",require:!0,description:"Package manager used to install dependencies. (yarn or npm)"}),Or=Q.Argument.define({flagChar:"-n",keyword:"--name",dataType:"string",require:!0,description:"The name of the project."}),Nr=Q.Argument.define({flagChar:"-o",keyword:"--output-dir",dataType:"string",description:"Path to the directory in which the Project should be located."}),Tr=Q.Argument.define({flagChar:"-a",keyword:"--author",dataType:"string",description:"Name of the author."}),Sr=Q.Argument.define({flagChar:"-m",keyword:"--modules",dataType:"string",description:"Comma separated list of modules. Currently available modules: jest, gest, yarn3, esbuild, nodepack, build-tsc"});var re=h(require("fs/promises")),ve=h(require("path"));var Gi=Object.defineProperty,Bi=a((t,e,r)=>e in t?Gi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),qi=a((t,e,r)=>(Bi(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),le=a(class{static parseRgbArgs(t){if(t.length===1){let e=t[0];if(typeof e=="string"){if(e.startsWith("rgb(")){let r=e.slice(4,-1).split(",");return{r:Number(r[0]),g:Number(r[1]),b:Number(r[2])}}else if(e.startsWith("#")){let r=e.slice(1).split("");return{r:parseInt(r[0]+r[1],16),g:parseInt(r[2]+r[3],16),b:parseInt(r[4]+r[5],16)}}}else if(typeof e=="object")return e}else if(t.length===3)return{r:t[0],g:t[1],b:t[2]};throw new Error("Invalid rgb arguments")}static get(t){return t in this.predefinedColors?this.predefinedColors[t]:this.rgb(t)}static define(t,...e){if(t in this.predefinedColors)throw new Error(`Color ${t} is already defined.`);Object.assign(this.predefinedColors,{[t]:this.rgb(...e)})}static rgb(...t){return""}},"TermxColors");qi(le,"predefinedColors",{});var zi=Object.defineProperty,Wi=a((t,e,r)=>e in t?zi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Ui=a((t,e,r)=>(Wi(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),_="\x1B",Ue=a(class extends le{static rgb(...t){let e=this.parseRgbArgs(t);return`${_}[48;2;${e.r};${e.g};${e.b}m`}},"TermxBgColor");Ui(Ue,"predefinedColors",{unset:`${_}[0m`,red:`${_}[41m`,green:`${_}[42m`,yellow:`${_}[43m`,blue:`${_}[44m`,magenta:`${_}[45m`,cyan:`${_}[46m`,white:`${_}[47m`,lightRed:`${_}[101m`,lightGreen:`${_}[102m`,lightYellow:`${_}[103m`,lightBlue:`${_}[104m`,lightMagenta:`${_}[105m`,lightCyan:`${_}[106m`,lightWhite:`${_}[107m`});var Hi=Object.defineProperty,Ji=a((t,e,r)=>e in t?Hi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Vi=a((t,e,r)=>(Ji(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),k="\x1B",I=a(class extends le{static rgb(...t){let e=this.parseRgbArgs(t);return`${k}[38;2;${e.r};${e.g};${e.b}m`}},"TermxFontColor");Vi(I,"predefinedColors",{unset:`${k}[0m`,red:`${k}[31m`,green:`${k}[32m`,yellow:`${k}[33m`,blue:`${k}[34m`,magenta:`${k}[35m`,cyan:`${k}[36m`,white:`${k}[37m`,lightRed:`${k}[91m`,lightGreen:`${k}[92m`,lightYellow:`${k}[93m`,lightBlue:`${k}[94m`,lightMagenta:`${k}[95m`,lightCyan:`${k}[96m`,lightWhite:`${k}[97m`});function S(...t){let e=t[0],r="",n=0,i=0;for(r=e[0],n=1,i=t.length;n<i;n++)typeof t[n]=="object"&&t[n]!==null&&t[n].name==="RawHtml"?r+=t[n].toString()+e[n]:r+=Yi(t[n].toString())+e[n];return r}a(S,"html");function Yi(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}a(Yi,"sanitizeHtml");function Mr(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}a(Mr,"desanitizeHtml");var j=a(class extends Error{constructor(t,e,r){super("Invalid Markup. "+r),this.parsedMarkup=t,this.position=e}getPositionCords(){let t=0,e=0;for(let r=0;r<this.position;r++)this.parsedMarkup[r]===`
`?(t++,e=0):e++;return[t,e]}getStack(){return this.stack??""}getPositionPatch(){let[t,e]=this.getPositionCords(),r=this.parsedMarkup.split(`
`),n=r[t],i=" ".repeat(e)+"^",s="";return t>1&&(s+=r[t-2]+`
`),t>0&&(s+=r[t-1]+`
`),s+=n+`
`+i,s}toString(){return`${this.message}

${this.getPositionPatch()}

${this.getStack()}`}},"MarkupParserError"),Ar=a(class{constructor(t){A(this,"o",{textNode:!1,tag:"",attributes:[],content:[]});A(this,"content",[]);A(this,"lastStringContent","");this.parent=t}addChild(){this.lastStringContent.length&&(this.content.push(this.lastStringContent),this.lastStringContent="");let t=new Ar(this);return this.content.push(t),t}addChar(t){this.lastStringContent+=t}serialize(){for(let t=0;t<this.content.length;t++){let e=this.content[t];typeof e=="string"?this.o.content.push(e):this.o.content.push(e.serialize())}return this.lastStringContent.length&&this.o.content.push(this.lastStringContent),this.o}},"MarkupNodeBuilder"),Ki=a(class{constructor(){A(this,"node",new Ar);this.node.o.textNode=!0}addChildNode(){this.node=this.node.addChild()}moveUp(){this.node=this.node.parent}isTopLevel(){return this.node.parent===void 0}serialize(){return this.node.content.length===1&&this.node.o.tag===""&&typeof this.node.content[0]!="string"?this.node.content[0].serialize():this.node.serialize()}},"MarkupBuilder"),Pr=1,jr=2,Rr=4,mt=8,Fr=16,ht=32,Z=~Pr,He=~jr,Xi=~Rr,Er=~mt,Qi=~Fr,gt=~ht;function bt(t){let e=new Ki,r="",n="",i="",s=0;for(let o=0;o<t.length;o++){let c=t[o];switch(s){case 0:{switch(c){case"<":{s=s|Pr,t[o+1]==="/"?(s=s|Fr,o++):e.addChildNode();continue}case"\\":{s=s|mt;continue}}e.node.addChar(c);break}case 8:{e.node.addChar(c),s=s&Er;break}case 1:{switch(c){case`
`:{e.node.o.tag.length>0&&(s=s|ht);continue}case" ":{e.node.o.tag.length>0&&(s=s|ht);continue}case">":{if(e.node.o.tag.length===0)throw new j(t,o,"No tag name found.");s=s&Z;continue}case"/":{if(t[o+1]===">")s=s&Z,o++,e.moveUp();else throw new j(t,o,"Invalid character encountered.");continue}case"=":throw new j(t,o-e.node.o.tag.length,"No tag name found.")}e.node.o.tag+=c;break}case 33:{switch(c){case`
`:continue;case" ":continue;case">":{s=s&Z&gt;continue}case"/":{if(t[o+1]===">")s=s&Z&gt,o++,e.moveUp();else throw new j(t,o,"Invalid character encountered.");continue}case"=":throw new j(t,o,"Invalid character encountered.")}s=s|jr,r+=c;break}case 17:{switch(c){case`
`:continue;case" ":continue;case">":{if(s=s&Z&Qi,i!==e.node.o.tag)throw new j(t,o,`Closing tag does not match opening tag, expected '${e.node.o.tag}' but found '${i}'.`);i="",e.moveUp();continue}}i+=c;break}case 35:{switch(c){case"=":{if(s=s&He,t[o+1]==='"')s=s|Rr,o+=1;else throw new j(t,o+1,"Attribute values must be enclosed in double quotes.");continue}case`
`:{s=s&He,e.node.o.attributes.push([r,!0]),r="";continue}case" ":{s=s&He,e.node.o.attributes.push([r,!0]),r="";continue}case">":{s=s&Z&He&gt,e.node.o.attributes.push([r,!0]),r="";continue}}r+=c;break}case 37:{switch(c){case'"':{s=s&Xi,e.node.o.attributes.push([r,n]),r="",n="";continue}case"\\":{s=s|mt;continue}}n+=c;break}case 45:{n+=c,s=s&Er;break}}}if(!e.isTopLevel())throw new j(t,t.length-1,`Closing tag is missing. Expected a close tag for '${e.node.o.tag}' before the end of the document.`);return e.serialize()}a(bt,"parseMarkup");var Je=a((t,e,r=" ")=>{r=r[0]??" ";let n=r.repeat(e);return t.split(`
`).map(s=>`${n}${s}`).join(`
`)},"leftPad");var Zi=Object.defineProperty,es=a((t,e,r)=>e in t?Zi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Dr=a((t,e,r)=>(es(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),Lr=a(class{static get currentScope(){return this._currentScope}static enterScope(t){let e=t;this.scopeStack.push(e),this._currentScope=e}static exitScope(){this.scopeStack.pop(),this._currentScope=this.scopeStack[this.scopeStack.length-1]??{}}static traverseUp(t){for(let e=this.scopeStack.length-1;e>=0;e--)t(this.scopeStack[e])}},"_ScopeTracker"),C=Lr;Dr(C,"scopeStack",[{tag:""}]);Dr(C,"_currentScope",Lr.scopeStack[0]);var $="\x1B",ts=`${$}[1m`,rs=`${$}[2m`,ns=`${$}[3m`,is=`${$}[4m`,ss=`${$}[5m`,os=`${$}[7m`,as=`${$}[9m`,wt=a(class{static defineColor(t,...e){Ue.define(t,...e),I.define(t,...e)}static format(t){let e=bt(t);return I.get("unset")+Mr(this.formatMarkup(e))}static formatMarkup(t){let e="";switch(t.tag){case"li":case"pre":case"line":case"span":return C.enterScope(this.createScope(t)),e+=this.scopeToAnsi(C.currentScope)+this.join(t.content.map(r=>this.mapContents(r,t.tag==="pre"))),C.exitScope(),e+=I.get("unset"),t.tag==="line"&&(e+=`
`),e+=this.scopeToAnsi(C.currentScope),e;case"ol":case"ul":{let r=this.getListElementPrefix(t),n=this.getListPadding();return C.enterScope(this.createScope(t)),e+=this.scopeToAnsi(C.currentScope)+this.join(t.content.filter(i=>typeof i!="string"||i.trim().length).map((i,s)=>{if(typeof i=="string"||i.tag!=="li")throw new Error(`Invalid element inside <${t.tag}>. Each child of <${t.tag}> must be a <li> element.`);let{contentPad:o,firstLineOffset:c}=this.getContentPad(t,s+1),l=r(s)+Je(this.mapContents(i),o).substring(c);return Je(l,n)+`
`})),C.exitScope(),e+=I.get("unset")+this.scopeToAnsi(C.currentScope),e}case"pad":{C.enterScope(this.createScope(t));let r=this.getAttribute(t,"size")??0,n=this.scopeToAnsi(C.currentScope)+this.join(t.content.map(i=>this.mapContents(i)));return e+=Je(n,Number(r)),C.exitScope(),e+=I.get("unset")+this.scopeToAnsi(C.currentScope),e}case"br":return e+`
`;case"s":return e+" ";case"":return e+=this.join(t.content.map(r=>this.mapContents(r))),e}throw new Error(`Invalid tag: <${t.tag}>`)}static join(t){let e="";for(let r=0;r<t.length;r++)e+=t[r];return e}static getAttribute(t,e){for(let[r,n]of t.attributes)if(r===e)return yt(n,"string")}static mapContents(t,e){return typeof t=="string"?e?t:t.replaceAll(`
`,"").trim():this.formatMarkup(t)}static getListPadding(){let t=0;return C.traverseUp(e=>{(e.tag==="ol"||e.tag==="ul")&&(t+=1)}),t===0?0:(t-1)*2}static getContentPad(t,e){if(t.tag==="ul")return{contentPad:2,firstLineOffset:2};let r=t.content.length.toString().length,n=t.content.length.toString().length+2;return{contentPad:n,firstLineOffset:n-(r-e.toString().length)}}static getListElementPrefix(t){if(t.tag==="ol")return n=>`${n+1}. `;let e=this.getAttribute(t,"type")??"bullet",r=(()=>{switch(e){case"bullet":return String.fromCharCode(9679);case"circle":return String.fromCharCode(9675);case"square":return String.fromCharCode(9633);default:throw new Error(`Invalid list type: ${e}`)}})();return()=>`${r} `}static scopeToAnsi(t){let e="";return t.noInherit&&(e+=I.get("unset")),t.color&&(e+=I.get(t.color)),t.bg&&(e+=Ue.get(t.bg)),t.bold&&(e+=ts),t.dimmed&&(e+=rs),t.italic&&(e+=ns),t.underscore&&(e+=is),t.blink&&(e+=ss),t.inverted&&(e+=os),t.strikethrough&&(e+=as),e}static createScope(t){let r=t.attributes.some(([n,i])=>n==="no-inherit"&&(i===!0||i==="true"))?{noInherit:!0}:{...C.currentScope,noInherit:!1};t.tag&&(r.tag=t.tag);for(let[n,i]of t.attributes)switch(n){case"color":r.color=yt(i,"string");break;case"bg":r.bg=yt(i,"string");break;case"bold":r.bold=i===!0||i==="true";break;case"dim":r.dimmed=i===!0||i==="true";break;case"italic":r.italic=i===!0||i==="true";break;case"underscore":r.underscore=i===!0||i==="true";break;case"blink":r.blink=i===!0||i==="true";break;case"invert":r.inverted=i===!0||i==="true";break;case"strike":r.strikethrough=i===!0||i==="true";break}return r}},"MarkupFormatter");function yt(t,e){if(typeof t===e)return t;throw new Error(`Invalid attribute type: ${typeof t} (expected ${e})`)}a(yt,"as");var cs=Object.defineProperty,ls=a((t,e,r)=>e in t?cs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),vt=a((t,e,r)=>(ls(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),R=a(class{constructor(t){A(this,"_printFn");if(t)this._printFn=t;else if(R.defaultPrintFn)this._printFn=R.defaultPrintFn;else if(typeof print=="function")this._printFn=print;else if(typeof console<"u"&&console.log)this._printFn=e=>console.log(e);else throw new Error("Unable to detect print function for current environment.")}static print(...t){R.globalOutput.print(...t)}static println(...t){R.globalOutput.println(...t)}static setDefaultPrintMethod(t){R.defaultPrintFn=t,R.globalOutput=new R(t)}printError(t){t!=null&&(this._printFn(t.toString()+`
`),typeof t=="object"&&t.stack&&this._printFn(t.stack+`
`))}parseMarkupLines(t){let e=[];for(let r of t)e.push(wt.format(r));return e}print(...t){try{let e=this.parseMarkupLines(t);for(let r of e)this._printFn(r)}catch(e){this._printFn(I.get("red")+"Failed to format/print given markup."+I.get("unset")+`
`),this.printError(e)}}println(...t){try{let e=this.parseMarkupLines(t);for(let r of e)this._printFn(r+`
`)}catch(e){this._printFn(I.get("red")+"Failed to format/print given markup."+I.get("unset")+`
`),this.printError(e)}}},"_Output"),x=R;vt(x,"defaultPrintFn");vt(x,"globalOutput");try{x.globalOutput=new x}catch{}var Ve=a(class{constructor(t=x){A(this,"buffer",[]);this.output=t}static print(t){Ve.globalOutputBuffer.print(t)}static println(t){Ve.globalOutputBuffer.println(t)}print(...t){this.buffer.push(...t.map(e=>({type:"print",markup:e})))}println(...t){this.buffer.push(...t.map(e=>({type:"println",markup:e})))}flush(){for(let{type:t,markup:e}of this.buffer)switch(t){case"print":this.output.print(e);break;case"println":this.output.println(e);break}this.buffer=[]}pipe(t){return this.buffer.length===0||(t.buffer.push(...this.buffer),this.buffer=[]),t}pipeReverse(t){return t.buffer.length===0?this:(this.buffer.push(...t.buffer),t.buffer=[],this)}},"_OutputBuffer"),$r=Ve;vt($r,"globalOutputBuffer",new Ve);var Gr=h(require("child_process")),Br=h(require("fs/promises")),qr=h(require("path"));var F=a(t=>t.map(e=>e.replace(/\s/g,"\\ ")).join(" "),"parseArgs");var N,zr=(a(N=class{static getName(){return"npm"}static execute(e){return new Promise((r,n)=>{Gr.default.exec(e,{cwd:N.cwd},i=>i?n(i):r())})}static async init(){}static async changeVersion(){}static async getVersion(){return""}static setCwd(e){N.cwd=e}static install(e){let r=["npm","install"];return r.push(e),N.execute(F(r))}static installDev(e){let r=["npm","install","-D"];return r.push(e),N.execute(F(r))}static async run(e,...r){return N.execute(await N.generateCommand(e,...r))}static async generateCommand(e,...r){let n=qr.default.resolve(N.cwd,"package.json"),i=[];try{let s=await Br.default.readFile(n,{encoding:"utf-8"}),o=JSON.parse(s);i.push(...Object.keys(o.scripts))}catch{}if(i.includes(e)){let s=["npm","run",e];return r.length>0&&(s.push("--"),s.push(...r)),F(s)}return F(["npx",e,...r])}},"Npm"),N.cwd=process.cwd(),N);var Wr=h(require("child_process"));var w,Ur=(a(w=class{static getName(){return"yarn"}static async execute(e){return new Promise((r,n)=>{Wr.default.exec(e,{cwd:w.cwd},(i,s)=>i?n(i):r(s))})}static async getVersion(){return w.version?w.version:(this.version=await w.run("-v"),this.version)}static async changeVersion(e){await w.run("set","version",e),this.version=void 0,await w.getVersion()}static setCwd(e){w.cwd=e}static async init(){if((await w.getVersion()).startsWith("3"))return w.run("init")}static install(e){let r=[];return r.push(e),w.run("add",...r)}static installDev(e){let r=["-D"];return r.push(e),w.run("add",...r)}static async run(e,...r){return w.execute(await w.generateCommand(e,...r))}static async generateCommand(e,...r){return["yarn",e,...r].map(n=>n.replace(" ","\\ ")).join(" ")}},"Yarn"),w.cwd=process.cwd(),w);var Hr=a(t=>{if(t==="yarn")return Ur;if(t==="npm")return zr;console.error(`Invalid package manager argument: (${t})`),process.exit(1)},"getPackageManager");var Jr=h(require("child_process"));var G=class{static async execute(e){await new Promise((r,n)=>{Jr.default.exec(e,{cwd:G.cwd},i=>i?n(i):r())})}static setCwd(e){G.cwd=e}static init(e){return G.setCwd(e),G.execute(F(["git","init"]))}static add(...e){e.length===0&&e.push("."),G.execute(F(["git","add",...e]))}},B=G;a(B,"Git"),B.cwd=process.cwd();var d=class{constructor(e,r={}){this.name=e;this.options=r;var n,i;(n=this.options).register??(n.register="npm"),(i=this.options).version??(i.version="latest")}static setPackageManagerType(e,r=""){this.pmType=e,this.pmVersion=r}getNameForNpmRegister(){return!this.options.version||this.options.version==="latest"?this.name:`${this.name}@${this.options.version}`}getNameForGithubRegister(){return d.pmType==="yarn"&&d.pmVersion.startsWith("3")?`${this.name}@${this.options.user}/${this.name}`:`${this.options.user}/${this.name}`}getFriendlyName(){return this.options.version==="latest"?this.name:`${this.name} v${this.options.version}`}getInstallName(){return this.options.register==="github"?this.getNameForGithubRegister():this.getNameForNpmRegister()}};a(d,"Dependency");var Vr=h(require("fs/promises")),Yr=h(require("path"));var Kr=a(async(t,e)=>{x.print(S`
      <span color="lightGreen">Generating:</span>
      <pre> config files</pre>
    `);let r=e.getConfigFiles().map(async n=>{await Vr.default.writeFile(Yr.default.resolve(t,n.filepath),n.content)});return Promise.all(r)},"createConfigFiles");var On=h(require("path"));var Qr=h(require("fs/promises")),Zr=h(require("path"));var g=class{constructor(e,r,n="."){this.getContent=e;this.filename=r;this.location=n}getAsString(e){let r=this.getContent(e);return typeof r=="string"?r:JSON.stringify(r,null,2)}};a(g,"ConfigFile");var E=a((...t)=>{let e=t[0],r="",n=0,i=0;for(r=e[0],n=1,i=t.length;n<i;n++)r+=String(t[n])+e[n];return r.trim()+`
`},"js");var Xr=E`
import esbuild from "esbuild";
import path from "node:path";
import { fileURLToPath } from "url";

const __dirname = path.dirname(fileURLToPath(import.meta.url));
const p = (...fpath) => path.resolve(__dirname, "..", ...fpath);

const isDev = process.argv.includes("--dev");
const watch = process.argv.includes("--watch");

async function main() {
  /** 
   * @type {import("esbuild").BuildOptions} 
   */
  const bldOptions = {
    tsconfig: p("tsconfig.json"),
    entryPoints: [p("src/index.ts")],
    outfile: p("dist"),
    bundle: true,
    keepNames: true,
    treeShaking: !isDev,
    minify: !isDev,
  }

  if (watch) {
    const buildCtx = await esbuild.context(bldOptions);
    await buildCtx.watch();
  } else {
    await esbuild.build(bldOptions);
  }
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});
`;var ue=class{getName(){return"esbuild"}async beforeStart(e){let r=Zr.default.resolve(e.projectDir,"scripts");await Qr.default.mkdir(r)}getDevDependencies(){return[new d("esbuild")]}getConfigFiles(){return[new g(()=>Xr,"build.mjs","scripts")]}packageJsonMiddleware(e){return e.addScript("build","node ./scripts/build.mjs"),e}};a(ue,"EsbuildModule");var ee=a(t=>typeof t=="object"&&t!==null,"isRecord");var en=["/__mocks__","/__tests__","/.vscode","/coverage","/dist","/node_modules","/tests","/.eslintignore","/.eslintrc.json","/.gitignore","/.prettierrc.json","/jest.config.js","/package-lock.json","/tsconfig.json","/webpack.config.js","/yarn-error.log","/yarn.lock","/*.js","/*.mjs","/*.cjs","/scripts"].join(`
`);var tn={plugins:["@typescript-eslint"],env:{browser:!0,es2021:!0},extends:["prettier","eslint:recommended","plugin:@typescript-eslint/eslint-recommended","plugin:@typescript-eslint/recommended"],parser:"@typescript-eslint/parser",parserOptions:{project:"./tsconfig.json",sourceType:"module"},rules:{"max-len":["error",70,4,{ignoreUrls:!0,ignoreStrings:!0,ignoreRegExpLiterals:!0,ignoreTemplateLiterals:!0}],"linebreak-style":["error","unix"],quotes:["error","double",{avoidEscape:!0}],semi:["error","always"],"@typescript-eslint/consistent-type-imports":"error","@typescript-eslint/consistent-type-exports":"error","@typescript-eslint/member-delimiter-style":"error","@typescript-eslint/no-confusing-non-null-assertion":"error","@typescript-eslint/no-misused-new":"error","@typescript-eslint/no-require-imports":"error","@typescript-eslint/restrict-plus-operands":"error","@typescript-eslint/switch-exhaustiveness-check":"error","@typescript-eslint/no-base-to-string":"error","@typescript-eslint/prefer-nullish-coalescing":"warn","@typescript-eslint/require-array-sort-compare":"warn","@typescript-eslint/no-empty-interface":"off","@typescript-eslint/prefer-for-of":"off","@typescript-eslint/no-this-alias":"off","@typescript-eslint/no-non-null-assertion":"off","@typescript-eslint/no-explicit-any":"off","@typescript-eslint/unbound-method":"off","@typescript-eslint/explicit-module-boundary-types":"off","no-async-promise-executor":"off","@typescript-eslint/no-floating-promises":"off","@typescript-eslint/no-empty-function":"off","@typescript-eslint/no-namespace":"off","@typescript-eslint/ban-ts-comment":"off","no-constant-condition":"off","no-prototype-builtins":"off","no-control-regex":"off","@typescript-eslint/ban-types":["error",{types:{object:!1,Function:!1,"{}":!1},extendDefaults:!0}]}};var pe=class{getName(){return"eslint"}getDevDependencies(){return[new d("@typescript-eslint/eslint-plugin"),new d("@typescript-eslint/parser"),new d("eslint-config-prettier"),new d("eslint-plugin-prettier"),new d("eslint")]}getConfigFiles(){return[new g(()=>tn,".eslintrc.json"),new g(()=>en,".eslintignore")]}packageJsonMiddleware(e){return e.addScript("fix:lint","eslint --fix ./src/**/*.ts"),e.addScript("test:lint","eslint ./src/**/*.ts"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&ee(r)&&r.hooks["pre-push"].push({name:"Lint",script:"test:lint"})}};a(pe,"EslintModule");var nn=h(require("fs/promises")),sn=h(require("path"));var rn=E`
/** @type {import("@reactgjs/gest/config").ConfigGetter} */
const getConfig = () => {
    return {
        testDir: "./__tests__",
        srcDir: "./src",
    };
};

export default getConfig;
`;var Ye={extends:"../tsconfig.json",include:["../**/*"],compilerOptions:{rootDir:"..",noEmit:!0}};var fe=class{getName(){return"gest"}async beforeStart(e){let r=sn.default.resolve(e.projectDir,"__tests__");await nn.default.mkdir(r)}getDevDependencies(){return[new d("@reactgjs/gest")]}getConfigFiles(){return[new g(()=>rn,"gest.config.mjs"),new g(()=>Ye,"tsconfig.json","__tests__")]}packageJsonMiddleware(e){return e.addScript("test:unit","gest"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&ee(r)&&r.hooks["pre-push"].push({name:"Unit Tests",script:"test:unit"})}};a(fe,"GestModule");var cn=h(require("fs/promises")),ln=h(require("path"));var on=E`
const fs = require("fs");
const path = require("path");

const swcConfig = JSON.parse(
  fs.readFileSync(path.resolve(__dirname, ".swcrc"), "utf-8")
);

/** @type {import("jest").Config} */
const config = {
  testRegex: ".*__tests__/.+(\\.test\\.(ts|js|tsx|jsx))$",
  transform: {
    "^.+\\.(js|jsx|ts|tsx)$": ["@swc/jest", swcConfig],
  },
  roots: ["<rootDir>"],
  collectCoverageFrom: ["src/**/*.(ts|js|tsx|jsx)"],
  coverageReporters: ["html", "text"],
  coverageThreshold: {
    global: {
      branches: 0,
      functions: 0,
      lines: 0,
      statements: 0,
    },
  },
  coveragePathIgnorePatterns: [
    "/node_modules/",
    "/coverage/",
    "/__mocks__/",
    "/__tests__/",
    "/dist/",
    "/.husky/",
    "/.vscode/",
  ],
};

module.exports = config;
`.trim()+`
`;var an={jsc:{keepClassNames:!0,parser:{syntax:"typescript",tsx:!0,decorators:!0,dynamicImport:!1},target:"es2022",baseUrl:"."},module:{type:"es6",strict:!0}};var ge=class{getName(){return"jest"}async beforeStart(e){let r=ln.default.resolve(e.projectDir,"__tests__");await cn.default.mkdir(r)}getDevDependencies(){return[new d("@swc/core"),new d("@swc/jest"),new d("@types/jest"),new d("jest")]}getConfigFiles(){return[new g(()=>on,"jest.config.js"),new g(()=>an,".swcrc"),new g(()=>Ye,"tsconfig.json","__tests__")]}packageJsonMiddleware(e){return e.addScript("test:unit","jest --coverage"),e}beforeWriteFile(e,r){e==="git-hook-tasks.config.json"&&ee(r)&&r.hooks["pre-push"].push({name:"Unit Tests",script:"test:unit"})}};a(ge,"JestModule");var vn=h(require("fs/promises")),Cn=h(require("path"));var un=a(async t=>{x.print(S`
    <span color="lightGreen">Configuring:</span>
    <pre> git-hook-tasks</pre>
  `),await t.run("git-hook-tasks","install","-p",t.getName())},"configureGitHookTasks");var pn=a(t=>{let e=[{name:"TypeScript",script:"test:tsc"},{name:"Formatting",script:"test:format"}];return{packageManager:t.packageManager.getName(),parallel:!0,hooks:{"pre-push":e,"pre-commit":[],"post-commit":[]}}},"getGitHookTasksConfig");var dn=["/node_modules","/coverage","/dist","/yarn-error.log","/.yarn/cache","/.yarn/install-state.gz"].join(`
`);var fn=a(t=>`MIT License

  Copyright (c) ${new Date().getFullYear()}${t.authorName?` ${t.authorName}`:""}
  
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  
  The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.
  
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.`,"getLicense");var gn=`
//registry.npmjs.org/:_authToken=\${NPM_TOKEN}
`.trim();var mn=["/__mocks__","/__tests__","/.github","/.husky","/.vscode","/coverage","/scripts","/src","/.editorconfig","/.eslintignore","/.eslintrc.json","/.gitignore","/.prettierignore","/.prettierrc.json","/.yarn","/.yarnrc.yml","/git-hook-tasks.config.json","/jest.config.js","/tsconfig.json","/yarn-error.log"].join(`
`);var hn=["**/*.json"].join(`
`);var bn=E`
/**
 * @type {import("prettier").Options}
 */
const config = {
  bracketSpacing: true,
  tabWidth: 2,
  semi: true,
  singleQuote: false,
  printWidth: 70,
  singleAttributePerLine: true,
  plugins: ["./node_modules/prettier-plugin-jsdoc/dist/index.js"],
  jsdocSingleLineComment: false,
};

export default config;
`;var yn={compilerOptions:{target:"ESNext",module:"ES6",moduleResolution:"node",jsx:"react",declaration:!0,outDir:"./dist",rootDir:"./src",downlevelIteration:!0,strict:!0,noUnusedLocals:!0,noUncheckedIndexedAccess:!0,esModuleInterop:!0,skipLibCheck:!0,forceConsistentCasingInFileNames:!0,isolatedModules:!0,noImplicitAny:!0},include:["src/**/*"]};var wn={"editor.formatOnSave":!0,"editor.codeActionsOnSave":["source.organizeImports","source.fixAll.eslint"]};var me=class{getName(){return"Main"}async beforeStart(e){let r=Cn.default.resolve(e.projectDir,".vscode");await vn.default.mkdir(r)}getDevDependencies(){return[new d("husky"),new d("prettier-plugin-jsdoc"),new d("prettier"),new d("typescript"),new d("git-hook-tasks",{register:"github",user:"ncpa0cpl"})]}getConfigFiles(){return[new g(()=>dn,".gitignore"),new g(()=>yn,"tsconfig.json"),new g(()=>bn,".prettierrc.mjs"),new g(()=>hn,".prettierignore"),new g(()=>gn,".npmrc"),new g(()=>mn,".npmignore"),new g(fn,"LICENSE"),new g(pn,"git-hook-tasks.config.json"),new g(()=>wn,"settings.json",".vscode")]}async afterEnd(e){await un(e.packageManager)}};a(me,"MainModule");var kn=h(require("fs/promises")),xn=h(require("path"));var _n=E`
import { build } from "@ncpa0cpl/nodepack";
import path from "node:path";
import { fileURLToPath } from "url";

const __dirname = path.dirname(fileURLToPath(import.meta.url));
const p = (...fpath) => path.resolve(__dirname, "..", ...fpath);

const isDev = process.argv.includes("--dev");
const watch = process.argv.includes("--watch");

async function main() {
  /**
   * @type {import("@ncpa0cpl/nodepack").BuildConfig}
   */
  const bldOptions = {
    tsConfig: p("tsconfig.json"),
    srcDir: p("src"),
    outDir: p("dist"),
    target: "ESNext",
    formats: ["esm", "cjs", "legacy"],
    declarations: true,
    watch: watch,
    esbuildOptions: {
      minify: !isDev,
      sourcemap: isDev ? "inline" : false,
    }
  }

  await build(bldOptions);
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});
`;var he=class{getName(){return"nodepack"}async beforeStart(e){let r=xn.default.resolve(e.projectDir,"scripts");await kn.default.mkdir(r)}getDevDependencies(){return[new d("esbuild"),new d("@ncpa0cpl/nodepack")]}getConfigFiles(){return[new g(()=>_n,"build.mjs","scripts")]}packageJsonMiddleware(e){return e.addScript("build","node ./scripts/build.mjs"),e}};a(he,"NodepackModule");var be=class{getName(){return"build-tsc"}packageJsonMiddleware(e){return e.addScript("build","tsc"),e}};a(be,"TscBuilderModule");var In=a(()=>`
enableGlobalCache: true

nodeLinker: node-modules

enableMessageNames: false

enableProgressBars: true
`.trim()+`
`,"getYarnRc");var ye=class{getName(){return"yarn3"}getConfigFiles(){return[new g(In,".yarnrc.yml")]}async beforeStart(e){return await e.packageManager.changeVersion("stable")}};a(ye,"YarnBerryModule");var us=new me,Ct=class{constructor(e){this.loadedModules=[us];let r=e.moduleList.split(",").filter(n=>Boolean(n));for(let n of r){let i=Ct.Modules.find(s=>s.getName()===n);i||(console.error(`'${n}' is not a valid module`),process.exit(1)),this.loadedModules.includes(i)||this.loadedModules.push(i)}this.ctx={allLoadedModules:this.loadedModules.map(n=>n.getName()),packageManager:e.packageManager,projectName:e.projectName,authorName:e.authorName,projectDir:""}}getContext(){return this.ctx}async beforeStart(e){this.ctx.projectDir=e,Object.freeze(this.ctx);for(let r of this.loadedModules)r.beforeStart&&await r.beforeStart(this.ctx)}async afterEnd(){for(let e of this.loadedModules)e.afterEnd&&await e.afterEnd(this.ctx)}getDependencies(){return this.loadedModules.flatMap(e=>e.getDependencies?.(this.ctx)).filter(e=>e!=null)}getDevDependencies(){return this.loadedModules.flatMap(e=>e.getDevDependencies?.(this.ctx)).filter(e=>e!=null)}prepareFile(e){let r=this.loadedModules.reduce((n,i)=>i.beforeWriteFile?.(e.filename,n,this.ctx)??n,e.getContent(this.ctx));return{filepath:On.default.join(e.location,e.filename),content:typeof r=="string"?r:JSON.stringify(r,null,2)}}getConfigFiles(){return this.loadedModules.flatMap(e=>e.getConfigFiles?.(this.ctx)).filter(e=>e!=null).map(e=>this.prepareFile(e))}async applyPackageJsonMiddleware(e){let r=e;for(let n of this.loadedModules)n.packageJsonMiddleware&&(r=await n.packageJsonMiddleware(r,this.ctx));return r}},te=Ct;a(te,"ModuleController"),te.Modules=[new ge,new fe,new ye,new be,new he,new ue,new pe];var _t=h(require("fs/promises")),Nn=h(require("path"));var we=class{constructor(e={}){this.packageJson=e}addScript(e,r){Object.defineProperty(this.packageJson.scripts,e,{value:r,enumerable:!0})}addIfNotExists(e,r){e in this.packageJson||Object.defineProperty(this.packageJson,e,{value:r,enumerable:!0})}toJSON(){return JSON.stringify(this.packageJson,null,2)}};a(we,"PkgJsonFacade");var Tn=a(async(t,e)=>{x.print(S`
    <span color="lightGreen">Generating:</span>
    <pre> package.json file</pre>
  `);let r=e.getContext(),n=Nn.default.resolve(t,"package.json"),i=await _t.default.readFile(n,{encoding:"utf-8"}),s=JSON.parse(i),o=new we({name:r.projectName,version:"1.0.0",main:"./dist/index.js",keywords:[],repository:{type:"git",url:""},description:"",license:"MIT",author:{name:r.authorName??"",email:""},scripts:{"fix:format":"prettier -w ./src/**/*.ts","test:format":"prettier -c ./src/**/*.ts","test:tsc":"tsc --noEmit"}});for(let[c,l]of Object.entries(s))o.addIfNotExists(c,l);return await e.applyPackageJsonMiddleware(o).then(c=>_t.default.writeFile(n,c.toJSON()))},"updatePackageFile");var Sn=a(async t=>{let{projectName:e,authorName:r,cwd:n,packageManager:i,modules:s}=t,o=Hr(i.value),c=new te({moduleList:s.value??"",packageManager:o,projectName:e.value,authorName:r.value}),l=n.value??process.cwd(),p=ve.default.resolve(l,e.value),f=ve.default.resolve(p,"src"),b=ve.default.resolve(p,"dist"),D=ve.default.resolve(f,"index.ts");(await re.default.readdir(l)).includes(e.value)&&(console.error(`Directory with the name "${e.value}" already exists.`),process.exit(1)),await re.default.mkdir(p),o.setCwd(p),await o.init(),await c.beforeStart(p),await B.init(p),x.print(S`
    <span color="lightGreen">Generating:</span>
    <pre color="lightYellow"> ${e.value} </pre>
    <span>project files</span>
  `),await Promise.all([re.default.mkdir(f),re.default.mkdir(b),Kr(p,c)]),await re.default.writeFile(D,""),d.setPackageManagerType(o.getName(),await o.getVersion());for(let L of c.getDependencies())x.print(S`
      <span color="lightGreen">Installing dependency:</span>
      <pre> ${L.getFriendlyName()}</pre>
    `),await o.install(L.getInstallName());for(let L of c.getDevDependencies())x.print(S`
      <span color="lightGreen">Installing development dependency:</span>
      <pre> ${L.getFriendlyName()}</pre>
    `),await o.installDev(L.getInstallName());await Tn(p,c),await c.afterEnd(),await B.add()},"mainAction");var ps="generate-new-project",ds="Generate a new Typescript project.";Mn.default.configure(t=>{t.setDisplayName(ps),t.setDescription(ds),t.setMainAction(()=>{let e=new Nr,r=new Ir,n=new Or,i=new Tr,s=new Sr;return{run(){return Sn({cwd:e,packageManager:r,projectName:n,authorName:i,modules:s})}}})});
